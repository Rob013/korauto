const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminSyncDashboard-BawSsEnm.js","assets/ui-5CGx59HE.js","assets/vendor-Ce2S7JN_.js","assets/index-DXJv48IP.js","assets/supabase-FBsvvB2P.js","assets/utils-DN5cgeP9.js","assets/query-D7el4M-V.js","assets/router-CrtsEgIx.js","assets/index-CQ5W8qV3.css","assets/progress-esslBWV-.js","assets/client-ClhMjqWB.js","assets/trending-up-DmCHOUY3.js","assets/zap-DZpTOGCU.js","assets/activity-BIG2I9ui.js","assets/clock-Bsx_Ypxj.js","assets/circle-alert-BSl6uMxW.js","assets/circle-check-big-CBL_LzJM.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./supabase-FBsvvB2P.js";import{j as s}from"./ui-5CGx59HE.js";import{r as t}from"./vendor-Ce2S7JN_.js";import{s as a}from"./client-ClhMjqWB.js";import{c as r,u as i,C as l,e as n,f as c,b as d,B as o,D as m,S as x}from"./index-DXJv48IP.js";import{B as h}from"./badge-CtAh7DWu.js";import{T as u,a as p,b as g,c as j}from"./tabs-DlSAwCA0.js";import{u as f}from"./useCurrencyAPI-4V5PeEfF.js";import{I as b}from"./input-BjLg3enW.js";import{C as N}from"./checkbox-Bqh3_0_U.js";import{b as v}from"./router-CrtsEgIx.js";import{A as w}from"./arrow-left-nPPkI31a.js";import{R as y}from"./progress-esslBWV-.js";import{A as k}from"./AdminCarSearch-D3V16nQr.js";import{C as S,a as _}from"./CookieManagementDashboard-Cvgj_JGm.js";import{E as C,P as L}from"./PerformanceAuditWidget-D94WDFH7.js";import{A,a as D,F as I}from"./AISyncCoordinator-CeVwm8oW.js";import{L as q}from"./log-out-D_YGK74m.js";import{U as R}from"./users-J01yfr8T.js";import{C as P}from"./car-BxrBaIAr.js";import{A as T}from"./activity-BIG2I9ui.js";import{H as $}from"./heart-j_9DbFLM.js";import{T as M,D as z}from"./trending-up-DmCHOUY3.js";import{C as F}from"./calendar-bSjTuHsD.js";import{C as E}from"./clock-Bsx_Ypxj.js";import{P as O,M as U}from"./phone-hADAJvIR.js";import{S as V}from"./shield-2CMa0t69.js";import{C as W}from"./circle-check-big-CBL_LzJM.js";import{S as H}from"./search-b9WDS7dH.js";import"./utils-DN5cgeP9.js";import"./query-D7el4M-V.js";import"./ui-tabs-CFnylfyZ.js";import"./ui-form-bTH_Yx3M.js";import"./check-DVisVKU7.js";import"./loader-circle-Cz5GAv8d.js";import"./label-CADau4dH.js";import"./alert-BAzaEAh5.js";import"./settings-CifkK-3H.js";import"./circle-alert-BSl6uMxW.js";import"./performanceAudit-DQgwLLb6.js";import"./triangle-alert-BjcC0IR7.js";import"./zap-DZpTOGCU.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=r("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),J=r("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),G=({onLoginSuccess:e})=>{const[r,m]=t.useState(""),[x,h]=t.useState(""),[u,p]=t.useState(!1),[g,j]=t.useState(!0),[f,y]=t.useState(null),{toast:k}=i(),S=v();return t.useEffect(()=>{const s=localStorage.getItem("adminRememberedEmail"),t="true"===localStorage.getItem("adminRememberMe");s&&t&&(m(s),j(!0));const{data:{subscription:r}}=a.auth.onAuthStateChange((s,t)=>{y(t),t?.user&&e()});return a.auth.getSession().then(({data:{session:s}})=>{y(s),s?.user&&e()}),()=>r.unsubscribe()},[e]),s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(l,{className:"w-full max-w-md",children:[s.jsxs(n,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center",children:s.jsx(B,{className:"h-6 w-6 text-primary-foreground"})})}),s.jsx(c,{className:"text-2xl",children:"Login"}),s.jsx("p",{className:"text-muted-foreground",children:"Enter your credentials to continue"})]}),s.jsxs(d,{className:"space-y-4",children:[s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),p(!0);try{const{error:e}=await a.auth.signInWithPassword({email:r,password:x});if(e)throw e;const{data:s,error:t}=await a.rpc("is_admin");if(t)throw await a.auth.signOut(),new Error("Failed to verify admin permissions");if(!s)throw await a.auth.signOut(),new Error("Access denied: Admin privileges required");g?(localStorage.setItem("adminRememberedEmail",r),localStorage.setItem("adminRememberMe","true")):(localStorage.removeItem("adminRememberedEmail"),localStorage.removeItem("adminRememberMe")),k({title:"Welcome Admin!",description:"Successfully logged in to admin dashboard"})}catch(s){k({title:"Login Failed",description:s.message,variant:"destructive"})}finally{p(!1)}},className:"space-y-4",children:[s.jsx("div",{children:s.jsx(b,{type:"email",placeholder:"Admin Email",value:r,onChange:e=>m(e.target.value),required:!0})}),s.jsx("div",{children:s.jsx(b,{type:"password",placeholder:"Password",value:x,onChange:e=>h(e.target.value),required:!0})}),s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(N,{id:"adminRememberMe",checked:g,onCheckedChange:e=>j(!0===e)}),s.jsx("label",{htmlFor:"adminRememberMe",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Remember admin credentials"})]}),s.jsx(o,{type:"submit",className:"w-full",disabled:u,children:u?"Logging in...":"Login"})]}),s.jsx("div",{className:"text-center",children:s.jsxs(o,{variant:"ghost",onClick:()=>S("/"),className:"text-muted-foreground hover:text-foreground",children:[s.jsx(w,{className:"h-4 w-4 mr-2"}),"Return to Homepage"]})})]})]})})},X=()=>{const[e,r]=t.useState(!1),{toast:l}=i();return s.jsxs(o,{onClick:async()=>{r(!0);try{const{data:e,error:s}=await a.functions.invoke("cars-sync",{method:"POST"});if(s)throw s;l({title:"Sync Completed",description:`Successfully synced ${e.totalSynced} cars from API`,duration:5e3}),window.location.reload()}catch(e){l({title:"Sync Failed",description:"Failed to sync cars from API. Please try again.",variant:"destructive",duration:5e3})}finally{r(!1)}},disabled:e,variant:"outline",size:"sm",className:"gap-2",children:[e?s.jsx(y,{className:"h-4 w-4 animate-spin"}):s.jsx(m,{className:"h-4 w-4"}),e?"Syncing...":"Sync Cars"]})},Z=t.lazy(()=>e(()=>import("./AdminSyncDashboard-BawSsEnm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])).then(e=>({default:e.AdminSyncDashboard}))),Q=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx(x,{className:"h-8 w-64"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((e,t)=>s.jsx(x,{className:"h-32 w-full"},t))})]}),Y=()=>{const[e,r]=t.useState([]),[m,x]=t.useState({}),[b,N]=t.useState({}),[B,Y]=t.useState({}),[K,ee]=t.useState({totalInspectionRequests:0,pendingRequests:0,completedRequests:0,totalUsers:0,totalFavorites:0,recentSignups:0,requestsThisWeek:0,requestsThisMonth:0,totalCachedCars:0,recentCarSyncs:0}),[se,te]=t.useState({totalPageViews:0,uniqueVisitors:0,avgSessionTime:"0m 0s",bounceRate:0,topPages:[],trafficSources:[],viewsLast24h:0,viewsLast7Days:0,actionTypes:{},userAgents:{}}),[ae,re]=t.useState(!0),[ie,le]=t.useState(null),[ne,ce]=t.useState(!1),[de,oe]=t.useState(!0),[me,xe]=t.useState("overview"),{toast:he}=i(),{convertUSDtoEUR:ue}=f(),pe=v();t.useEffect(()=>{(async()=>{const{data:{user:e}}=await a.auth.getUser();if(le(e),e)try{const{data:e,error:s}=await a.rpc("is_admin");if(s)throw s;ce(e||!1)}catch(s){ce(!1)}oe(!1)})();const{data:{subscription:e}}=a.auth.onAuthStateChange((e,s)=>{le(s?.user??null),s?.user||ce(!1)});return()=>e.unsubscribe()},[]);const ge=async()=>{re(!0);try{const{data:e,error:s}=await a.from("inspection_requests").select("*").order("created_at",{ascending:!1});if(s)throw s;r(e||[]);const t=e?.map(e=>e.car_id).filter(Boolean)||[];t.length>0&&await(async e=>{const s=[...new Set(e.filter(Boolean))];if(0!==s.length)try{const{data:e,error:t}=await a.from("cars_cache").select("*").in("api_id",s);if(t)return;const r={};e?.forEach(e=>{const s=e.car_data,t=s?.lots?.[0];r[e.api_id]={id:e.api_id,make:e.make,model:e.model,year:e.year,price:t?.buy_now?ue(Math.round(t.buy_now+2200)):void 0,image:t?.images?.normal?.[0]||t?.images?.big?.[0],vin:e.vin,mileage:t?.odometer?.km?`${t.odometer.km.toLocaleString()} km`:void 0,fuel:s?.fuel?.name,transmission:s?.transmission?.name,color:s?.color?.name,lot_number:e.lot_number||t?.lot}}),x(r)}catch(t){}})(t);const i=e?.length||0,l=e?.filter(e=>"pending"===e.status).length||0,n=e?.filter(e=>"completed"===e.status).length||0,c=new Date(Date.now()-6048e5),d=new Date(Date.now()-2592e6),o=e?.filter(e=>new Date(e.created_at)>c).length||0,m=e?.filter(e=>new Date(e.created_at)>d).length||0,[{count:h},{count:u},{count:p},{count:g},{count:j},{count:f},{data:b}]=await Promise.all([a.from("profiles").select("*",{count:"exact",head:!0}),a.from("favorite_cars").select("*",{count:"exact",head:!0}),a.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",c.toISOString()),a.from("cars_cache").select("*",{count:"exact",head:!0}),a.from("cars").select("*",{count:"exact",head:!0}),a.from("cars_cache").select("*",{count:"exact",head:!0}).gte("last_api_sync",c.toISOString()),a.from("sync_status").select("*").order("created_at",{ascending:!1}).limit(1)]),N=Math.max(g||0,j||0),v=new Date(Date.now()-2592e6),{data:w}=await a.from("website_analytics").select("*").gte("created_at",v.toISOString()).order("created_at",{ascending:!1}).limit(1e4),y=w?.length||0,k=new Set;w?.forEach(e=>{e.session_id?k.add(e.session_id):e.ip_address?k.add(e.ip_address.toString()):e.user_id&&k.add(e.user_id)});const S=k.size,_=w?.reduce((e,s)=>{let t=s.page_url||"/";return t.includes("/car/")&&(t="/car/[id]"),t.includes("?")&&(t=t.split("?")[0]),e[t]=(e[t]||0)+1,e},{})||{},C=Object.entries(_).map(([e,s])=>({page:e,views:s,percentage:y>0?Math.round(s/y*100):0})).sort((e,s)=>s.views-e.views).slice(0,10),L=w?.reduce((e,s)=>{let t="Direct";if(s.referrer&&""!==s.referrer.trim()){const e=s.referrer.toLowerCase();t=e.includes("google")||e.includes("bing")||e.includes("yahoo")?"Search":e.includes("facebook")||e.includes("instagram")||e.includes("twitter")||e.includes("linkedin")?"Social":e.includes("lovable")||e.includes("localhost")?"Development":"Referral"}return e[t]=(e[t]||0)+1,e},{})||{},A=Object.entries(L).map(([e,s])=>({source:e,count:s,percentage:y>0?Math.round(s/y*100):0})).sort((e,s)=>s.count-e.count),D=w?.reduce((e,s)=>{const t=s.session_id||s.ip_address?.toString()||s.user_id||"anonymous";return e[t]=(e[t]||0)+1,e},{})||{},I=Object.values(D).filter(e=>1===e).length,q=S>0?Math.round(I/S*100):0,R=new Date(Date.now()-864e5),P=new Date(Date.now()-6048e5),T=w?.filter(e=>new Date(e.created_at)>R).length||0,$=w?.filter(e=>new Date(e.created_at)>P).length||0;te({totalPageViews:y,uniqueVisitors:S,avgSessionTime:S>0?`${Math.round(y/S*2.3)}m ${Math.round(y/S*2.3%1*60)}s`:"0m 0s",bounceRate:q,topPages:C,trafficSources:A,viewsLast24h:T,viewsLast7Days:$,actionTypes:w?.reduce((e,s)=>(e[s.action_type]=(e[s.action_type]||0)+1,e),{})||{},userAgents:w?.reduce((e,s)=>{if(s.user_agent){let t="Unknown";s.user_agent.includes("Chrome")?t="Chrome":s.user_agent.includes("Firefox")?t="Firefox":s.user_agent.includes("Safari")?t="Safari":s.user_agent.includes("Edge")&&(t="Edge"),e[t]=(e[t]||0)+1}return e},{})||{}}),ee({totalInspectionRequests:i,pendingRequests:l,completedRequests:n,totalUsers:h||0,totalFavorites:u||0,recentSignups:p||0,requestsThisWeek:o,requestsThisMonth:m,totalCachedCars:N||0,recentCarSyncs:f||0})}catch(e){he({title:"Error",description:"Failed to load admin data",variant:"destructive"})}finally{re(!1)}},je=async(e,s)=>{try{const{error:t}=await a.from("inspection_requests").update({status:s,updated_at:(new Date).toISOString()}).eq("id",e);if(t)throw t;he({title:"Status Updated",description:`Request status changed to ${s}`}),ge()}catch(t){he({title:"Error",description:"Failed to update request status",variant:"destructive"})}},fe=async(s,t)=>{N(e=>({...e,[s]:!0}));try{const t=e.find(e=>e.id===s);let a=t?.car_id;if(!a&&t?.notes){const e=t.notes.match(/Car:\s*(.+)/i);if(e){const s=e[1].trim(),t=s.match(/\b\d{6,8}\b/);a=t?t[0]:s}}const r=[{method:"Car ID",payload:{endpoint:"cars",carId:a}},{method:"Lot Number (IAAI)",payload:{endpoint:"search-lot",lotNumber:a}},{method:"General Search",payload:{endpoint:"cars",filters:{search:a}}}];for(const e of r){const t=await fetch("https://qtyyiqimkysmjnaocswe.supabase.co/functions/v1/secure-cars-api",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF0eXlpcWlta3lzbWpuYW9jc3dlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0MzkxMzQsImV4cCI6MjA2OTAxNTEzNH0.lyRCHiShhW4wrGHL3G7pK5JBUHNAtgSUQACVOBGRpL8"},body:JSON.stringify(e.payload)});if(t.ok){const r=await t.json();let i=null;if(r.data&&Array.isArray(r.data)&&r.data.length>0?i=r.data[0]:r.lots&&r.lots.length>0?i=r:Array.isArray(r)&&r.length>0?i=r[0]:(r.id||r.year)&&(i=r),i){Y(e=>({...e,[s]:i}));const t=i.lots?.[0],r=`${i.year} ${i.manufacturer?.name} ${i.model?.name}`,l=`Lot: ${t?.lot} | Price: $${t?.buy_now?.toLocaleString()||"N/A"}`,n=t?.odometer?.km?`| ${t.odometer.km.toLocaleString()} km`:"";return he({title:`âœ… Car Found via ${e.method}!`,description:`${r}\n${l} ${n}\nOpening car page...`,duration:3e3}),void setTimeout(()=>{const e=i.id||t?.lot||a;window.open(`/car/${e}`,"_blank")},1e3)}}}he({title:"Car Not Found",description:`Car with ID/Lot ${a} not found in any auction database (tried car ID, lot number, and general search)`,variant:"destructive",duration:6e3})}catch(a){he({title:"Search Error",description:"Failed to search for car. Please try again.",variant:"destructive"})}finally{N(e=>({...e,[s]:!1}))}};if(t.useEffect(()=>{ie&&ne&&ge()},[ie,ne]),de)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Checking permissions..."})]})});if(!ie||!ne)return s.jsx(G,{onLoginSuccess:()=>{oe(!0),(async()=>{const{data:{user:e}}=await a.auth.getUser();if(le(e),e)try{const{data:e,error:s}=await a.rpc("is_admin");if(s)throw s;ce(e||!1)}catch(s){ce(!1)}oe(!1)})()}});const be=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(A,{enabled:!0,checkIntervalMinutes:1}),s.jsx(D,{enabled:!0,maxRetries:5,retryDelayMs:2e3}),s.jsxs("div",{className:"container max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 mb-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:"Admin Dashboard"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:ie.email}),s.jsx("div",{className:"mt-2",children:s.jsx(X,{})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 shrink-0",children:[s.jsxs(o,{variant:"outline",size:"sm",onClick:()=>pe("/"),children:[s.jsx(w,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Home"})]}),s.jsxs(o,{variant:"outline",size:"sm",onClick:async()=>{await a.auth.signOut(),he({title:"Logged out",description:"Successfully logged out of admin dashboard"})},children:[s.jsx(q,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Logout"})]}),s.jsxs(o,{size:"sm",onClick:ge,disabled:ae,children:[s.jsx(y,{className:`h-3 w-3 sm:h-4 sm:w-4 ${ae?"animate-spin":""} sm:mr-1`}),s.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx(k,{})}),s.jsxs(u,{value:me,onValueChange:xe,className:"space-y-3 sm:space-y-4",children:[s.jsxs(p,{className:"grid w-full grid-cols-5 h-auto",children:[s.jsx(g,{value:"overview",className:"text-xs sm:text-sm p-2 sm:p-3",children:"Overview"}),s.jsx(g,{value:"inspections",className:"text-xs sm:text-sm p-2 sm:p-3",children:"Inspections"}),s.jsx(g,{value:"analytics",className:"text-xs sm:text-sm p-2 sm:p-3",children:"Analytics"}),s.jsx(g,{value:"performance",className:"text-xs sm:text-sm p-2 sm:p-3",children:"Performance"}),s.jsx(g,{value:"cookies",className:"text-xs sm:text-sm p-2 sm:p-3",children:"Cookies"})]}),s.jsxs(j,{value:"overview",className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"grid gap-3 grid-cols-2 sm:grid-cols-3 lg:grid-cols-6",children:[s.jsxs(l,{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50 border-blue-200 dark:border-blue-800",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs font-medium truncate text-blue-900 dark:text-blue-100",children:"Total Users"}),s.jsx(R,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 shrink-0"})]}),s.jsxs(d,{className:"p-0",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-900 dark:text-blue-100",children:K.totalUsers.toLocaleString()}),s.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["+",K.recentSignups," new this week"]})]})]}),s.jsxs(l,{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50 border-green-200 dark:border-green-800",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs font-medium truncate text-green-900 dark:text-green-100",children:"Cars Available"}),s.jsx(P,{className:"h-4 w-4 text-green-600 dark:text-green-400 shrink-0"})]}),s.jsxs(d,{className:"p-0",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-900 dark:text-green-100",children:K.totalCachedCars.toLocaleString()}),s.jsxs("p",{className:"text-xs text-green-700 dark:text-green-300",children:["+",K.recentCarSyncs," recently synced"]})]})]}),s.jsxs(l,{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50 border-purple-200 dark:border-purple-800",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs font-medium truncate text-purple-900 dark:text-purple-100",children:"Requests"}),s.jsx(T,{className:"h-4 w-4 text-purple-600 dark:text-purple-400 shrink-0"})]}),s.jsxs(d,{className:"p-0",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-900 dark:text-purple-100",children:K.totalInspectionRequests.toLocaleString()}),s.jsxs("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:[K.pendingRequests," pending review"]})]})]}),s.jsxs(l,{className:"p-4 bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-950/50 dark:to-pink-900/50 border-pink-200 dark:border-pink-800",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs font-medium truncate text-pink-900 dark:text-pink-100",children:"Favorites"}),s.jsx($,{className:"h-4 w-4 text-pink-600 dark:text-pink-400 shrink-0"})]}),s.jsxs(d,{className:"p-0",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-pink-900 dark:text-pink-100",children:K.totalFavorites.toLocaleString()}),s.jsx("p",{className:"text-xs text-pink-700 dark:text-pink-300",children:"User bookmarks"})]})]}),s.jsxs(l,{className:"p-4 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50 border-orange-200 dark:border-orange-800",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs font-medium truncate text-orange-900 dark:text-orange-100",children:"This Week"}),s.jsx(M,{className:"h-4 w-4 text-orange-600 dark:text-orange-400 shrink-0"})]}),s.jsxs(d,{className:"p-0",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-900 dark:text-orange-100",children:K.requestsThisWeek.toLocaleString()}),s.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300",children:"New requests"})]})]}),s.jsxs(l,{className:"p-4 bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-950/50 dark:to-teal-900/50 border-teal-200 dark:border-teal-800",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs font-medium truncate text-teal-900 dark:text-teal-100",children:"This Month"}),s.jsx(F,{className:"h-4 w-4 text-teal-600 dark:text-teal-400 shrink-0"})]}),s.jsxs(d,{className:"p-0",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-teal-900 dark:text-teal-100",children:K.requestsThisMonth.toLocaleString()}),s.jsx("p",{className:"text-xs text-teal-700 dark:text-teal-300",children:"Total requests"})]})]})]}),s.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 lg:grid-cols-3",children:[s.jsxs(l,{className:"p-4 sm:p-6",children:[s.jsx(n,{className:"p-0 pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(c,{className:"text-base sm:text-lg font-semibold flex items-center gap-2",children:[s.jsx(E,{className:"h-5 w-5"}),"Recent Requests"]}),s.jsxs(h,{variant:"secondary",className:"text-xs",children:[e.length," total"]})]})}),s.jsx(d,{className:"p-0",children:s.jsxs("div",{className:"space-y-3",children:[e.slice(0,4).map(e=>{const t=e.car_id?m[e.car_id]:null;return s.jsx("div",{className:"group relative p-3 rounded-lg border border-border/50 hover:border-primary/30 hover:shadow-sm transition-all duration-200 bg-card/50 hover:bg-card",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"shrink-0 w-10 h-8 rounded-md overflow-hidden bg-muted flex items-center justify-center",children:t?.image?s.jsx("img",{src:t.image,alt:`${t.year} ${t.make} ${t.model}`,className:"w-full h-full object-cover"}):s.jsx(P,{className:"h-3 w-3 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h4",{className:"font-medium text-sm text-foreground truncate",children:e.customer_name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.customer_email})]}),s.jsx(h,{className:`${be(e.status)} text-[10px] shrink-0`,children:e.status})]}),t&&s.jsx("div",{className:"mb-1",children:s.jsx("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-primary/10 text-primary rounded-full text-xs font-medium",children:s.jsxs("span",{children:[t.year," ",t.make," ",t.model]})})}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),s.jsx("div",{className:"flex items-center gap-1",children:e.customer_phone&&s.jsx("a",{href:`https://wa.me/${e.customer_phone.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 transition-colors",title:"Contact via WhatsApp",children:s.jsx(O,{className:"h-3 w-3"})})})]})]})]})},e.id)}),0===e.length&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(T,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No recent inspection requests"})]})]})})]}),s.jsxs(l,{className:"p-4 sm:p-6",children:[s.jsx(n,{className:"p-0 pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(c,{className:"text-base sm:text-lg font-semibold flex items-center gap-2",children:[s.jsx(T,{className:"h-5 w-5"}),"Real-time Analytics"]}),s.jsx(h,{variant:"secondary",className:"text-xs animate-pulse",children:"Live Data"})]})}),s.jsx(d,{className:"p-0",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/30 dark:to-blue-900/30 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(C,{className:"h-3 w-3 text-blue-600"}),s.jsx("span",{className:"text-xs font-medium text-blue-900 dark:text-blue-100",children:"Page Views"})]}),s.jsx("div",{className:"text-lg font-bold text-blue-900 dark:text-blue-100",children:se.totalPageViews.toLocaleString()}),s.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:["24h: ",se.viewsLast24h.toLocaleString()]})]}),s.jsxs("div",{className:"p-3 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/30 dark:to-green-900/30 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(R,{className:"h-3 w-3 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-green-900 dark:text-green-100",children:"Visitors"})]}),s.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100",children:se.uniqueVisitors.toLocaleString()}),s.jsxs("div",{className:"text-xs text-green-700 dark:text-green-300",children:["7d: ",se.viewsLast7Days.toLocaleString()]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-1",children:[s.jsx(M,{className:"h-3 w-3"}),"Top Pages"]}),s.jsxs("div",{className:"space-y-1",children:[se.topPages.slice(0,3).map((e,t)=>s.jsxs("div",{className:"flex justify-between items-center text-xs p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"truncate max-w-[120px] font-mono",title:e.page,children:e.page}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs(h,{variant:"outline",className:"text-[10px] px-1 py-0",children:[e.percentage,"%"]}),s.jsx("span",{className:"text-muted-foreground",children:e.views})]})]},t)),0===se.topPages.length&&s.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:"No analytics data yet"})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-1",children:[s.jsx(z,{className:"h-3 w-3"}),"Traffic Sources"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[se.trafficSources.slice(0,4).map((e,t)=>s.jsxs("div",{className:"text-xs p-2 bg-muted/20 rounded text-center",children:[s.jsx("div",{className:"font-medium",children:e.source}),s.jsxs("div",{className:"text-muted-foreground",children:[e.percentage,"%"]})]},t)),0===se.trafficSources.length&&s.jsx("div",{className:"text-xs text-muted-foreground text-center py-2 col-span-2",children:"No traffic data yet"})]})]})]})})]}),s.jsxs(l,{className:"p-4 sm:p-6",children:[s.jsx(n,{className:"p-0 pb-4",children:s.jsxs(c,{className:"text-base sm:text-lg font-semibold flex items-center gap-2",children:[s.jsx(V,{className:"h-5 w-5"}),"System Health"]})}),s.jsx(d,{className:"p-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Database"}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Connected & Active"})]})]}),s.jsx(W,{className:"h-4 w-4 text-green-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"API Sync"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Real-time updates"})]})]}),s.jsx(T,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Analytics"}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Real-time tracking"})]})]}),s.jsx(J,{className:"h-4 w-4 text-green-600"})]}),s.jsx("div",{className:"pt-3 border-t border-border",children:s.jsxs("div",{className:"grid grid-cols-1 gap-3 text-center",children:[s.jsxs("div",{className:"p-2 bg-gradient-to-r from-primary/10 to-primary/5 rounded",children:[s.jsx("div",{className:"text-lg font-bold text-foreground",children:K.totalCachedCars.toLocaleString()}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Cars in Database"})]}),s.jsxs("div",{className:"p-2 bg-gradient-to-r from-secondary/10 to-secondary/5 rounded",children:[s.jsx("div",{className:"text-lg font-bold text-foreground",children:K.totalUsers}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Active Users"})]})]})})]})})]}),s.jsx(I,{})]})]}),s.jsxs(j,{value:"inspections",className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"grid gap-2 sm:gap-3 grid-cols-1 sm:grid-cols-3 mb-4",children:[s.jsxs(l,{className:"p-3",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs sm:text-sm font-medium",children:"Pending"}),s.jsx(E,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500"})]}),s.jsx(d,{className:"p-0",children:s.jsx("div",{className:"text-lg sm:text-xl font-bold",children:K.pendingRequests})})]}),s.jsxs(l,{className:"p-3",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs sm:text-sm font-medium",children:"Completed"}),s.jsx(W,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-500"})]}),s.jsx(d,{className:"p-0",children:s.jsx("div",{className:"text-lg sm:text-xl font-bold",children:K.completedRequests})})]}),s.jsxs(l,{className:"p-3",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs sm:text-sm font-medium",children:"This Week"}),s.jsx(F,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500"})]}),s.jsx(d,{className:"p-0",children:s.jsx("div",{className:"text-lg sm:text-xl font-bold",children:K.requestsThisWeek})})]})]}),s.jsxs(l,{className:"p-4 sm:p-6",children:[s.jsxs(n,{className:"p-0 pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(c,{className:"flex items-center gap-2 text-base sm:text-lg font-semibold",children:[s.jsx(z,{className:"h-5 w-5"}),"Inspection Requests"]}),s.jsxs(h,{variant:"secondary",className:"text-xs",children:[e.length," records"]})]}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Manage all customer inspection requests"})]}),s.jsxs(d,{className:"p-0",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse border border-border text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-muted/50",children:[s.jsx("th",{className:"border border-border px-3 py-2 text-left text-xs font-medium",children:"Customer"}),s.jsx("th",{className:"border border-border px-3 py-2 text-left text-xs font-medium",children:"Contact"}),s.jsx("th",{className:"border border-border px-3 py-2 text-left text-xs font-medium",children:"Car Details"}),s.jsx("th",{className:"border border-border px-3 py-2 text-left text-xs font-medium",children:"Status"}),s.jsx("th",{className:"border border-border px-3 py-2 text-left text-xs font-medium",children:"Date"}),s.jsx("th",{className:"border border-border px-3 py-2 text-left text-xs font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(e=>s.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[s.jsx("td",{className:"border border-border px-3 py-2",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:e.customer_name}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:e.customer_email})]})}),s.jsx("td",{className:"border border-border px-3 py-2",children:s.jsx("a",{href:`https://wa.me/${e.customer_phone.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 text-sm font-medium",children:e.customer_phone})}),s.jsx("td",{className:"border border-border px-3 py-2",children:e.car_id&&m[e.car_id]?s.jsxs("div",{className:"flex items-center gap-2",children:[m[e.car_id].image&&s.jsx("img",{src:m[e.car_id].image,alt:"Car",className:"w-10 h-8 object-cover rounded"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium",children:[m[e.car_id].year," ",m[e.car_id].make," ",m[e.car_id].model]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",e.car_id]}),m[e.car_id].lot_number&&s.jsxs("div",{className:"text-xs lot-number-highlight mt-1",children:["Lot: ",m[e.car_id].lot_number]})]})]}):e.car_id?s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Car ID: ",e.car_id]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"General request"})}),s.jsx("td",{className:"border border-border px-3 py-2",children:s.jsxs("select",{value:e.status,onChange:s=>je(e.id,s.target.value),className:"text-xs border border-border rounded px-2 py-1 bg-background",children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),s.jsxs("td",{className:"border border-border px-3 py-2",children:[s.jsx("div",{className:"text-sm",children:new Date(e.created_at).toLocaleDateString()}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleTimeString()})]}),s.jsx("td",{className:"border border-border px-3 py-2",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(o,{size:"sm",variant:"outline",onClick:()=>window.open(`mailto:${e.customer_email}`,"_blank"),className:"h-7 w-7 p-0",children:s.jsx(U,{className:"h-3 w-3"})}),s.jsx(o,{size:"sm",variant:"outline",onClick:()=>window.open(`https://wa.me/${e.customer_phone.replace(/[^0-9]/g,"")}`,"_blank"),className:"h-7 w-7 p-0",children:s.jsx(O,{className:"h-3 w-3"})}),e.car_id&&m[e.car_id]?s.jsxs(o,{size:"sm",variant:"default",onClick:()=>window.open(`/car/${m[e.car_id]?.lot_number||e.car_id}`,"_blank"),className:"h-7 px-2 text-xs",children:[s.jsx(P,{className:"h-3 w-3 mr-1"}),"View Car"]}):e.car_id?s.jsxs(o,{size:"sm",variant:"outline",onClick:()=>fe(e.id,e.car_id),disabled:b[e.id],className:"h-7 px-2 text-xs",children:[b[e.id]?s.jsx("div",{className:"h-3 w-3 mr-1 animate-spin rounded-full border border-current border-t-transparent"}):s.jsx(H,{className:"h-3 w-3 mr-1"}),b[e.id]?"Finding...":"Find Car"]}):s.jsxs(o,{size:"sm",variant:"secondary",onClick:()=>fe(e.id,e.notes),disabled:b[e.id],className:"h-7 px-2 text-xs",children:[b[e.id]?s.jsx("div",{className:"h-3 w-3 mr-1 animate-spin rounded-full border border-current border-t-transparent"}):s.jsx(H,{className:"h-3 w-3 mr-1"}),b[e.id]?"Searching...":"Search Car"]})]})})]},e.id))})]})})}),s.jsx("div",{className:"lg:hidden space-y-3",children:e.map(e=>{const t=e.car_id?m[e.car_id]:null;return s.jsxs("div",{className:"group relative p-4 rounded-lg border border-border/50 hover:border-primary/30 hover:shadow-sm transition-all duration-200 bg-card/50 hover:bg-card",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"shrink-0 w-12 h-9 rounded-md overflow-hidden bg-muted flex items-center justify-center",children:t?.image?s.jsx("img",{src:t.image,alt:`${t.year} ${t.make} ${t.model}`,className:"w-full h-full object-cover"}):s.jsx(P,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h4",{className:"font-medium text-sm text-foreground truncate",children:e.customer_name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.customer_email})]}),s.jsxs("select",{value:e.status,onChange:s=>je(e.id,s.target.value),className:`text-xs border border-border rounded px-2 py-1 bg-background ${be(e.status)}`,children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),t&&s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium",children:[s.jsxs("span",{children:[t.year," ",t.make," ",t.model]}),t.lot_number&&s.jsxs("span",{className:"lot-number-highlight ml-2",children:["Lot: ",t.lot_number]})]})}),s.jsx("div",{className:"mb-3",children:s.jsxs("a",{href:`https://wa.me/${e.customer_phone.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-green-600 hover:text-green-700 text-xs font-medium",children:[s.jsx(O,{className:"h-3 w-3"}),e.customer_phone]})}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:(a=e.created_at,new Date(a).toLocaleString("sq-AL",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(o,{size:"sm",variant:"outline",onClick:()=>window.open(`mailto:${e.customer_email}`,"_blank"),className:"h-6 w-6 p-0",children:s.jsx(U,{className:"h-3 w-3"})}),t?s.jsxs(o,{size:"sm",variant:"default",onClick:()=>window.open(`/car/${t.lot_number||e.car_id}`,"_blank"),className:"h-6 px-2 text-xs",children:[s.jsx(P,{className:"h-3 w-3 mr-1"}),"View Car"]}):e.car_id?s.jsxs(o,{size:"sm",variant:"outline",onClick:()=>fe(e.id,e.car_id),disabled:b[e.id],className:"h-6 px-2 text-xs",children:[b[e.id]?s.jsx("div",{className:"h-3 w-3 mr-1 animate-spin rounded-full border border-current border-t-transparent"}):s.jsx(H,{className:"h-3 w-3 mr-1"}),b[e.id]?"Finding...":"Find Car"]}):s.jsxs(o,{size:"sm",variant:"secondary",onClick:()=>fe(e.id,e.notes),disabled:b[e.id],className:"h-6 px-2 text-xs",children:[b[e.id]?s.jsx("div",{className:"h-3 w-3 mr-1 animate-spin rounded-full border border-current border-t-transparent"}):s.jsx(H,{className:"h-3 w-3 mr-1"}),b[e.id]?"Searching...":"Search Car"]})]})]})]})]}),s.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-r from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none"})]},e.id);var a})}),0===e.length&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No inspection requests"}),s.jsx("p",{className:"text-sm",children:"No inspection requests found in the database"})]})]})]})]}),s.jsxs(j,{value:"analytics",className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"grid gap-2 sm:gap-3 grid-cols-2 lg:grid-cols-4",children:[s.jsxs(l,{className:"p-3",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs sm:text-sm font-medium",children:"Page Views"}),s.jsx(C,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),s.jsxs(d,{className:"p-0",children:[s.jsx("div",{className:"text-lg sm:text-xl font-bold",children:se.totalPageViews.toLocaleString()}),s.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["24h: ",se.viewsLast24h.toLocaleString()]})]})]}),s.jsxs(l,{className:"p-3",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs sm:text-sm font-medium",children:"Unique Visitors"}),s.jsx(R,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),s.jsxs(d,{className:"p-0",children:[s.jsx("div",{className:"text-lg sm:text-xl font-bold",children:se.uniqueVisitors.toLocaleString()}),s.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["7d: ",se.viewsLast7Days.toLocaleString()]})]})]}),s.jsxs(l,{className:"p-3",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs sm:text-sm font-medium",children:"Bounce Rate"}),s.jsx(T,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),s.jsxs(d,{className:"p-0",children:[s.jsxs("div",{className:"text-lg sm:text-xl font-bold",children:[se.bounceRate,"%"]}),s.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Engagement"})]})]}),s.jsxs(l,{className:"p-3",children:[s.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 p-0 pb-2",children:[s.jsx(c,{className:"text-xs sm:text-sm font-medium",children:"Session Time"}),s.jsx(E,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),s.jsxs(d,{className:"p-0",children:[s.jsx("div",{className:"text-lg sm:text-xl font-bold",children:se.avgSessionTime}),s.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Average"})]})]})]}),s.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 lg:grid-cols-3",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsxs(l,{className:"p-3",children:[s.jsxs(n,{className:"p-0 pb-3",children:[s.jsxs(c,{className:"text-sm sm:text-base flex items-center gap-2",children:[s.jsx(M,{className:"h-4 w-4"}),"Website Traffic Analytics"]}),s.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Real-time data from ",se.totalPageViews.toLocaleString()," page views"]})]}),s.jsx(d,{className:"p-0",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium mb-2 text-sm",children:["Top Pages (",se.topPages.length," tracked)"]}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:se.topPages.length>0?se.topPages.map((e,t)=>s.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"truncate font-mono text-xs max-w-[200px]",title:e.page,children:e.page}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(h,{variant:"secondary",className:"text-xs",children:[e.percentage,"%"]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.views.toLocaleString()," views"]})]})]},t)):s.jsx("div",{className:"text-sm text-muted-foreground",children:"No page view data available"})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-sm",children:"Traffic Sources"}),s.jsx("div",{className:"space-y-2",children:se.trafficSources.map((e,t)=>s.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"font-medium",children:e.source}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(h,{variant:"outline",className:"text-xs",children:[e.percentage,"%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:e.count.toLocaleString()})]})]},t))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-sm",children:"User Actions"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(se.actionTypes).length>0?Object.entries(se.actionTypes).map(([e,t])=>s.jsxs("div",{className:"flex justify-between text-sm p-2 bg-muted/20 rounded",children:[s.jsx("span",{className:"capitalize",children:e.replace("_"," ")}),s.jsx("span",{className:"font-medium",children:t.toLocaleString()})]},e)):s.jsx("div",{className:"text-sm text-muted-foreground col-span-2",children:"No action data available"})})]})]})})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(l,{className:"p-3",children:[s.jsx(n,{className:"p-0 pb-3",children:s.jsxs(c,{className:"text-sm sm:text-base flex items-center gap-2",children:[s.jsx(z,{className:"h-4 w-4"}),"System Management"]})}),s.jsx(d,{className:"p-0",children:s.jsx(t.Suspense,{fallback:s.jsx(Q,{}),children:s.jsx(Z,{})})})]}),s.jsxs(l,{className:"p-3",children:[s.jsx(n,{className:"p-0 pb-3",children:s.jsxs(c,{className:"text-sm sm:text-base flex items-center gap-2",children:[s.jsx(T,{className:"h-4 w-4"}),"System Health"]})}),s.jsx(d,{className:"p-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-green-900 dark:text-green-100",children:"Database"}),s.jsx("p",{className:"text-[10px] text-green-700 dark:text-green-300",children:"Connected"})]})]}),s.jsx(W,{className:"h-4 w-4 text-green-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-blue-900 dark:text-blue-100",children:"API Sync"}),s.jsx("p",{className:"text-[10px] text-blue-700 dark:text-blue-300",children:"Active"})]})]}),s.jsx(T,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-green-900 dark:text-green-100",children:"Analytics"}),s.jsx("p",{className:"text-[10px] text-green-700 dark:text-green-300",children:"Real-time"})]})]}),s.jsx(J,{className:"h-4 w-4 text-green-600"})]}),s.jsx("div",{className:"pt-3 border-t border-border",children:s.jsxs("div",{className:"grid grid-cols-1 gap-2 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-foreground",children:K.totalCachedCars.toLocaleString()}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Cars in Database"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-foreground",children:K.totalUsers}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Active Users"})]})]})})]})})]})]})]}),0===se.totalPageViews&&s.jsx(l,{children:s.jsx(d,{className:"py-6",children:s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"ðŸ“Š Analytics Setup:"})," No analytics data found. Analytics tracking is configured and ready to capture real user data as visitors interact with the website."]})})})})]}),s.jsx(j,{value:"performance",className:"space-y-3 sm:space-y-4",children:s.jsx("div",{className:"w-full",children:s.jsx(L,{})})}),s.jsx(j,{value:"cookies",className:"space-y-3 sm:space-y-4",children:s.jsxs(l,{className:"p-4 sm:p-6",children:[s.jsxs(n,{className:"p-0 pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(c,{className:"text-base sm:text-lg font-semibold flex items-center gap-2",children:[s.jsx(S,{className:"h-5 w-5"}),"Cookie Management Dashboard"]}),s.jsx(h,{variant:"secondary",className:"text-xs",children:"Real-time Monitoring"})]}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Monitor and manage all website cookies with size validation and security controls"})]}),s.jsx(d,{className:"p-0",children:s.jsx(_,{})})]})})]})]})]})};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{Y as default};
