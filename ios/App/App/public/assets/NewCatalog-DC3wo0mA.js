const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/useSecureAuctionAPI-CofUx0nG.js","assets/vendor-Ce2S7JN_.js","assets/client-ClhMjqWB.js","assets/supabase-FBsvvB2P.js","assets/Header-CbL792xF.js","assets/ui-5CGx59HE.js","assets/index-DXJv48IP.js","assets/utils-DN5cgeP9.js","assets/query-D7el4M-V.js","assets/router-CrtsEgIx.js","assets/index-CQ5W8qV3.css","assets/heart-j_9DbFLM.js","assets/user-CjHCORYF.js","assets/Footer-DRRobR63.js","assets/phone-hADAJvIR.js","assets/map-pin-k_93RLhL.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./supabase-FBsvvB2P.js";import{a,j as t,c as s,k as n,e as r,P as i,g as o,u as l,v as c,i as d,h as m}from"./ui-5CGx59HE.js";import{r as u,a as h}from"./vendor-Ce2S7JN_.js";import{u as p,b as x,a as g,Q as f}from"./query-D7el4M-V.js";import{u as v,b as j}from"./router-CrtsEgIx.js";import{f as y}from"./carsApi-CWjCMvhU.js";import{u as w}from"./useCurrencyAPI-4V5PeEfF.js";import{a as b,B as N,X as S,C as M,b as C,S as R}from"./index-DXJv48IP.js";import{I as _}from"./input-BjLg3enW.js";import{L as k}from"./label-CADau4dH.js";import{S as I,a as T,b as z,c as L,d as P,A as E}from"./select-BjugpQxa.js";import{B as F}from"./badge-CtAh7DWu.js";import{C as D}from"./checkbox-Bqh3_0_U.js";import{F as A,D as O}from"./filter-BlSNsmF6.js";import{S as V}from"./search-b9WDS7dH.js";import{C as H}from"./car-BxrBaIAr.js";import{C as W}from"./chevron-up-BDNiUINz.js";import{C as K}from"./chevron-down-CZttC9Jd.js";import{S as $}from"./settings-CifkK-3H.js";import{C as U}from"./calendar-bSjTuHsD.js";import{F as q,P as B}from"./palette-CnXSA3iB.js";import{M as Z}from"./map-pin-k_93RLhL.js";import{S as Y}from"./shield-2CMa0t69.js";import{T as X}from"./triangle-alert-BjcC0IR7.js";import{C as G}from"./camera-Dgez-INn.js";import{A as J}from"./award-BX3-2vkm.js";import{_ as Q,a as ee,b as ae}from"./charts-CUIsanfV.js";import{t as te}from"./analytics-DNqrEujd.js";import{A as se}from"./arrow-left-nPPkI31a.js";import"./client-ClhMjqWB.js";import"./utils-DN5cgeP9.js";import"./ui-form-bTH_Yx3M.js";import"./check-DVisVKU7.js";const ne=e=>{const a={};return e.brand&&(a.brand=e.brand),e.model&&(a.model=e.model),e.fuel&&(a.fuel=e.fuel),e.transmission&&(a.transmission=e.transmission),e.bodyType&&(a.bodyType=e.bodyType),e.color&&(a.color=e.color),e.location&&(a.location=e.location),e.search&&(a.search=e.search),void 0!==e.yearMin&&(a.yearMin=e.yearMin.toString()),void 0!==e.yearMax&&(a.yearMax=e.yearMax.toString()),void 0!==e.priceMin&&(a.priceMin=e.priceMin.toString()),void 0!==e.priceMax&&(a.priceMax=e.priceMax.toString()),void 0!==e.mileageMin&&(a.mileageMin=e.mileageMin.toString()),void 0!==e.mileageMax&&(a.mileageMax=e.mileageMax.toString()),a.page=(e.page||1).toString(),a.pageSize=(e.pageSize||20).toString(),a.sort=e.sort||"price_asc",a},re=e=>({id:e.id,make:e.make,model:e.model,year:e.year,price:e.price,mileage:e.mileage,fuel:e.fuel,transmission:e.transmission,bodyType:"",color:e.color,location:e.location,images:e.images&&Array.isArray(e.images)?e.images:[]}),ie=e=>{switch(e){case"price_asc":case"price_desc":case"year_desc":case"year_asc":case"mileage_asc":case"mileage_desc":case"recently_added":case"oldest_first":case"popular":return e;default:return"price_asc"}},oe=async(e,a,t)=>{try{const a=await y({filters:{make:e.brand,model:e.model,yearMin:e.yearMin?.toString(),yearMax:e.yearMax?.toString(),priceMin:e.priceMin?.toString(),priceMax:e.priceMax?.toString(),fuel:e.fuel,search:e.search},sort:ie(e.sort),limit:parseInt(e.pageSize||"24"),cursor:t}),s=a.items.map(re),n=parseInt(e.pageSize||"24"),r=parseInt(e.page||"1");return{cars:s,total:a.total,page:r,totalPages:Math.ceil(a.total/n),hasMore:!!a.nextCursor,nextCursor:a.nextCursor}}catch(s){return le(e,a)}},le=async(a,t)=>{if(!a.brand||""===a.brand||"all"===a.brand){const{createFallbackCars:t}=await e(async()=>{const{createFallbackCars:e}=await import("./useSecureAuctionAPI-CofUx0nG.js");return{createFallbackCars:e}},__vite__mapDeps([0,1,2,3])),s=t({}),n=Object.entries(a).some(([e,a])=>a&&""!==a&&"page"!==e&&"pageSize"!==e&&"sort"!==e),r=(()=>{if(n||0===s.length)return s;const e=new Date,a=100*e.getDate()+(e.getMonth()+1),t=s.filter(e=>e.manufacturer?.name&&e.lots?.[0]?.images?.normal?.[0]),r=e=>{const a=1e4*Math.sin(e);return a-Math.floor(a)};return((e,a)=>{const t=[...e];for(let s=t.length-1;s>0;s--){const e=Math.floor(r(a+s)*(s+1));[t[s],t[e]]=[t[e],t[s]]}return t})(t,a).slice(0,50)})().map(e=>({id:e.id?.toString()||"",make:e.manufacturer?.name||"",model:e.model?.name||"",year:e.year||2020,price:Math.round((e.lots?.[0]?.buy_now||25e3)+2200),mileage:e.lots?.[0]?.odometer?.km,fuel:e.fuel?.name,transmission:e.transmission?.name,bodyType:e.body_type||"Sedan",color:e.color?.name,location:e.location||"Seoul",images:e.lots?.[0]?.images?.normal||[]})),i=parseInt(a.pageSize||"20"),o=parseInt(a.page||"1"),l=(o-1)*i,c=l+i;return{cars:r.slice(l,c),total:r.length,page:o,totalPages:Math.ceil(r.length/i),hasMore:c<r.length}}const{mockFetchCars:s}=await e(async()=>{const{mockFetchCars:e}=await import("./mockCarsData-YFf7OdA2.js");return{mockFetchCars:e}},[]),n=await s(a,t);return{cars:n.cars,total:n.total,page:n.page,totalPages:n.totalPages,hasMore:n.hasMore}};var ce=["PageUp","PageDown"],de=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],me={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ue="Slider",[he,pe,xe]=n(ue),[ge,fe]=s(ue,[xe]),[ve,je]=ge(ue),ye=u.forwardRef((e,s)=>{const{name:n,min:i=0,max:o=100,step:l=1,orientation:d="horizontal",disabled:m=!1,minStepsBetweenThumbs:h=0,defaultValue:p=[i],value:x,onValueChange:g=()=>{},onValueCommit:f=()=>{},inverted:v=!1,form:j,...y}=e,w=u.useRef(new Set),b=u.useRef(0),N="horizontal"===d?Ne:Se,[S=[],M]=a({prop:x,defaultProp:p,onChange:e=>{const a=[...w.current];a[b.current]?.focus(),g(e)}}),C=u.useRef(S);function R(e,a,{commit:t}={commit:!1}){const s=function(e){return(String(e).split(".")[1]||"").length}(l),n=function(e,a){const t=Math.pow(10,a);return Math.round(e*t)/t}(Math.round((e-i)/l)*l+i,s),r=c(n,[i,o]);M((e=[])=>{const s=function(e=[],a,t){const s=[...e];return s[t]=a,s.sort((e,a)=>e-a)}(e,r,a);if(function(e,a){if(a>0){const t=function(e){return e.slice(0,-1).map((a,t)=>e[t+1]-a)}(e);return Math.min(...t)>=a}return!0}(s,h*l)){b.current=s.indexOf(r);const a=String(s)!==String(e);return a&&t&&f(s),a?s:e}return e})}return t.jsx(ve,{scope:e.__scopeSlider,name:n,disabled:m,min:i,max:o,valueIndexToChangeRef:b,thumbs:w.current,values:S,orientation:d,form:j,children:t.jsx(he.Provider,{scope:e.__scopeSlider,children:t.jsx(he.Slot,{scope:e.__scopeSlider,children:t.jsx(N,{"aria-disabled":m,"data-disabled":m?"":void 0,...y,ref:s,onPointerDown:r(y.onPointerDown,()=>{m||(C.current=S)}),min:i,max:o,inverted:v,onSlideStart:m?void 0:function(e){const a=function(e,a){if(1===e.length)return 0;const t=e.map(e=>Math.abs(e-a)),s=Math.min(...t);return t.indexOf(s)}(S,e);R(e,a)},onSlideMove:m?void 0:function(e){R(e,b.current)},onSlideEnd:m?void 0:function(){const e=C.current[b.current];S[b.current]!==e&&f(S)},onHomeKeyDown:()=>!m&&R(i,0,{commit:!0}),onEndKeyDown:()=>!m&&R(o,S.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:a})=>{if(!m){const t=ce.includes(e.key)||e.shiftKey&&de.includes(e.key)?10:1,s=b.current;R(S[s]+l*t*a,s,{commit:!0})}}})})})})});ye.displayName=ue;var[we,be]=ge(ue,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ne=u.forwardRef((e,a)=>{const{min:s,max:n,dir:r,inverted:i,onSlideStart:c,onSlideMove:d,onSlideEnd:m,onStepKeyDown:h,...p}=e,[x,g]=u.useState(null),f=o(a,e=>g(e)),v=u.useRef(),j=l(r),y="ltr"===j,w=y&&!i||!y&&i;function b(e){const a=v.current||x.getBoundingClientRect(),t=Ee([0,a.width],w?[s,n]:[n,s]);return v.current=a,t(e-a.left)}return t.jsx(we,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:t.jsx(Me,{dir:j,"data-orientation":"horizontal",...p,ref:f,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const a=b(e.clientX);c?.(a)},onSlideMove:e=>{const a=b(e.clientX);d?.(a)},onSlideEnd:()=>{v.current=void 0,m?.()},onStepKeyDown:e=>{const a=me[w?"from-left":"from-right"].includes(e.key);h?.({event:e,direction:a?-1:1})}})})}),Se=u.forwardRef((e,a)=>{const{min:s,max:n,inverted:r,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...m}=e,h=u.useRef(null),p=o(a,h),x=u.useRef(),g=!r;function f(e){const a=x.current||h.current.getBoundingClientRect(),t=Ee([0,a.height],g?[n,s]:[s,n]);return x.current=a,t(e-a.top)}return t.jsx(we,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:t.jsx(Me,{"data-orientation":"vertical",...m,ref:p,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const a=f(e.clientY);i?.(a)},onSlideMove:e=>{const a=f(e.clientY);l?.(a)},onSlideEnd:()=>{x.current=void 0,c?.()},onStepKeyDown:e=>{const a=me[g?"from-bottom":"from-top"].includes(e.key);d?.({event:e,direction:a?-1:1})}})})}),Me=u.forwardRef((e,a)=>{const{__scopeSlider:s,onSlideStart:n,onSlideMove:o,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:m,...u}=e,h=je(ue,s);return t.jsx(i.span,{...u,ref:a,onKeyDown:r(e.onKeyDown,e=>{"Home"===e.key?(c(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):ce.concat(de).includes(e.key)&&(m(e),e.preventDefault())}),onPointerDown:r(e.onPointerDown,e=>{const a=e.target;a.setPointerCapture(e.pointerId),e.preventDefault(),h.thumbs.has(a)?a.focus():n(e)}),onPointerMove:r(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&o(e)}),onPointerUp:r(e.onPointerUp,e=>{const a=e.target;a.hasPointerCapture(e.pointerId)&&(a.releasePointerCapture(e.pointerId),l(e))})})}),Ce="SliderTrack",Re=u.forwardRef((e,a)=>{const{__scopeSlider:s,...n}=e,r=je(Ce,s);return t.jsx(i.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...n,ref:a})});Re.displayName=Ce;var _e="SliderRange",ke=u.forwardRef((e,a)=>{const{__scopeSlider:s,...n}=e,r=je(_e,s),l=be(_e,s),c=u.useRef(null),d=o(a,c),m=r.values.length,h=r.values.map(e=>Pe(e,r.min,r.max)),p=m>1?Math.min(...h):0,x=100-Math.max(...h);return t.jsx(i.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...n,ref:d,style:{...e.style,[l.startEdge]:p+"%",[l.endEdge]:x+"%"}})});ke.displayName=_e;var Ie="SliderThumb",Te=u.forwardRef((e,a)=>{const s=pe(e.__scopeSlider),[n,r]=u.useState(null),i=o(a,e=>r(e)),l=u.useMemo(()=>n?s().findIndex(e=>e.ref.current===n):-1,[s,n]);return t.jsx(ze,{...e,ref:i,index:l})}),ze=u.forwardRef((e,a)=>{const{__scopeSlider:s,index:n,name:l,...c}=e,m=je(Ie,s),h=be(Ie,s),[p,x]=u.useState(null),g=o(a,e=>x(e)),f=!p||m.form||!!p.closest("form"),v=d(p),j=m.values[n],y=void 0===j?0:Pe(j,m.min,m.max),w=function(e,a){return a>2?`Value ${e+1} of ${a}`:2===a?["Minimum","Maximum"][e]:void 0}(n,m.values.length),b=v?.[h.size],N=b?function(e,a,t){const s=e/2;return(s-Ee([0,50],[0,s])(a)*t)*t}(b,y,h.direction):0;return u.useEffect(()=>{if(p)return m.thumbs.add(p),()=>{m.thumbs.delete(p)}},[p,m.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[h.startEdge]:`calc(${y}% + ${N}px)`},children:[t.jsx(he.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(i.span,{role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":m.min,"aria-valuenow":j,"aria-valuemax":m.max,"aria-orientation":m.orientation,"data-orientation":m.orientation,"data-disabled":m.disabled?"":void 0,tabIndex:m.disabled?void 0:0,...c,ref:g,style:void 0===j?{display:"none"}:e.style,onFocus:r(e.onFocus,()=>{m.valueIndexToChangeRef.current=n})})}),f&&t.jsx(Le,{name:l??(m.name?m.name+(m.values.length>1?"[]":""):void 0),form:m.form,value:j},n)]})});Te.displayName=Ie;var Le=e=>{const{value:a,...s}=e,n=u.useRef(null),r=m(a);return u.useEffect(()=>{const e=n.current,t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"value").set;if(r!==a&&s){const t=new Event("input",{bubbles:!0});s.call(e,a),e.dispatchEvent(t)}},[r,a]),t.jsx("input",{style:{display:"none"},...s,ref:n,defaultValue:a})};function Pe(e,a,t){return c(100/(t-a)*(e-a),[0,100])}function Ee(e,a){return t=>{if(e[0]===e[1]||a[0]===a[1])return a[0];const s=(a[1]-a[0])/(e[1]-e[0]);return a[0]+s*(t-e[0])}}var Fe=ye,De=Re,Ae=ke,Oe=Te;const Ve=u.forwardRef(({className:e,...a},s)=>t.jsxs(Fe,{ref:s,className:b("relative flex w-full touch-none select-none items-center",e),...a,children:[t.jsx(De,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:t.jsx(Ae,{className:"absolute h-full bg-primary"})}),t.jsx(Oe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ve.displayName=Fe.displayName;const He=(e,a)=>{const[t,s]=u.useState(e);return u.useEffect(()=>{const t=setTimeout(()=>{s(e)},a);return()=>{clearTimeout(t)}},[e,a]),t},We=({filters:e,data:a,isLoading:s,onFiltersChange:n,onClearFilters:r,className:i,compact:o=!1})=>{const[l,c]=u.useState(e.search||""),[d,m]=u.useState([e.yearMin||a.yearRange.min,e.yearMax||a.yearRange.max]),[h,p]=u.useState([e.priceMin||a.priceRange.min,e.priceMax||a.priceRange.max]),[x,g]=u.useState([e.mileageMin||a.mileageRange.min,e.mileageMax||a.mileageRange.max]),[f,v]=u.useState([e.engineSizeMin||a.engineSizeRange?.min||1,e.engineSizeMax||a.engineSizeRange?.max||6]),[j,y]=u.useState(["basic"]),w=He(l,250);u.useEffect(()=>{w!==e.search&&n({search:w||void 0})},[w,e.search,n]);const M=He(d,250),C=He(h,250),R=He(x,250),E=He(f,250);u.useEffect(()=>{M[0]===e.yearMin&&M[1]===e.yearMax||n({yearMin:M[0]!==a.yearRange.min?M[0]:void 0,yearMax:M[1]!==a.yearRange.max?M[1]:void 0})},[M,e.yearMin,e.yearMax,a.yearRange,n]),u.useEffect(()=>{C[0]===e.priceMin&&C[1]===e.priceMax||n({priceMin:C[0]!==a.priceRange.min?C[0]:void 0,priceMax:C[1]!==a.priceRange.max?C[1]:void 0})},[C,e.priceMin,e.priceMax,a.priceRange,n]),u.useEffect(()=>{R[0]===e.mileageMin&&R[1]===e.mileageMax||n({mileageMin:R[0]!==a.mileageRange.min?R[0]:void 0,mileageMax:R[1]!==a.mileageRange.max?R[1]:void 0})},[R,e.mileageMin,e.mileageMax,a.mileageRange,n]),u.useEffect(()=>{!a.engineSizeRange||E[0]===e.engineSizeMin&&E[1]===e.engineSizeMax||n({engineSizeMin:E[0]!==a.engineSizeRange.min?E[0]:void 0,engineSizeMax:E[1]!==a.engineSizeRange.max?E[1]:void 0})},[E,e.engineSizeMin,e.engineSizeMax,a.engineSizeRange,n]);const Q=u.useMemo(()=>e.brand?a.models.filter(a=>a.brandId===e.brand):[],[a.models,e.brand]),ee=u.useMemo(()=>(e=>{const a=[];return void 0!==e.yearMin&&void 0!==e.yearMax&&e.yearMin>e.yearMax&&a.push("Year minimum cannot be greater than maximum"),void 0!==e.priceMin&&void 0!==e.priceMax&&e.priceMin>e.priceMax&&a.push("Price minimum cannot be greater than maximum"),void 0!==e.mileageMin&&void 0!==e.mileageMax&&e.mileageMin>e.mileageMax&&a.push("Mileage minimum cannot be greater than maximum"),a})(e),[e]);ee.length;const ae=u.useMemo(()=>Object.entries(e).filter(([e,a])=>null!=a&&""!==a&&"page"!==e&&"pageSize"!==e&&"sort"!==e).length,[e]),te=u.useMemo(()=>{const t=[];if(e.brand){const s=a.brands.find(a=>a.id===e.brand);t.push({key:"brand",label:"Marka",value:s?.name||e.brand})}if(e.model){const a=Q.find(a=>a.id===e.model);t.push({key:"model",label:"Modeli",value:a?.name||e.model})}if(e.fuel){const s=a.fuelTypes.find(a=>a.id===e.fuel);t.push({key:"fuel",label:"Karburanti",value:s?.name||e.fuel})}if(e.transmission){const s=a.transmissions.find(a=>a.id===e.transmission);t.push({key:"transmission",label:"Transmisioni",value:s?.name||e.transmission})}if(e.yearMin||e.yearMax){const s=e.yearMin||a.yearRange.min,n=e.yearMax||a.yearRange.max;t.push({key:"year",label:"Viti",value:s===n?s.toString():`${s}-${n}`})}if(e.priceMin||e.priceMax){const s=e.priceMin||a.priceRange.min,n=e.priceMax||a.priceRange.max;t.push({key:"price",label:"Ã‡mimi",value:`â‚¬${s.toLocaleString()}-â‚¬${n.toLocaleString()}`})}return t},[e,a,Q]),se=e=>{y(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])};return t.jsxs("div",{className:b("space-y-4",i),children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(A,{className:"h-5 w-5 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Filtrat e KÃ«rkimit"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[ae>0&&t.jsx(F,{variant:"secondary",children:ae}),t.jsxs(N,{variant:"outline",size:"sm",onClick:r,children:[t.jsx(S,{className:"h-3 w-3 mr-1"}),"Pastro tÃ« gjitha"]})]})]}),te.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:te.map(e=>t.jsxs(F,{variant:"default",className:"flex items-center gap-1",children:[t.jsxs("span",{className:"text-xs",children:[e.label,": ",e.value]}),t.jsx(N,{variant:"ghost",size:"sm",className:"h-auto w-auto p-0 hover:bg-transparent",onClick:()=>(e=>{switch(e){case"brand":n({brand:void 0,model:void 0});break;case"model":n({model:void 0});break;case"fuel":n({fuel:void 0});break;case"transmission":n({transmission:void 0});break;case"year":n({yearMin:void 0,yearMax:void 0}),m([a.yearRange.min,a.yearRange.max]);break;case"price":n({priceMin:void 0,priceMax:void 0}),p([a.priceRange.min,a.priceRange.max])}})(e.key),children:t.jsx(S,{className:"h-3 w-3"})})]},e.key))}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{htmlFor:"search",className:"flex items-center gap-2",children:[t.jsx(V,{className:"h-4 w-4"}),"KÃ«rko"]}),t.jsxs("div",{className:"relative",children:[t.jsx(V,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t.jsx(_,{id:"search",type:"text",placeholder:"KÃ«rko makinat...",value:l,onChange:e=>c(e.target.value),className:"pl-10"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(N,{variant:"ghost",onClick:()=>se("basic"),className:"w-full justify-between p-2 h-auto",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(H,{className:"h-4 w-4 text-primary"}),t.jsx("span",{className:"font-medium",children:"Filtrat BazÃ«"})]}),j.includes("basic")?t.jsx(W,{className:"h-4 w-4"}):t.jsx(K,{className:"h-4 w-4"})]}),j.includes("basic")&&t.jsxs("div",{className:"space-y-4 p-3 bg-muted/30 rounded-lg",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(H,{className:"h-4 w-4"}),"Marka"]}),t.jsxs(I,{value:e.brand||"",onValueChange:e=>{n({brand:e,model:void 0})},children:[t.jsx(T,{children:t.jsx(z,{placeholder:"Zgjidhni markÃ«n"})}),t.jsx(L,{children:a.brands.map(e=>t.jsxs(P,{value:e.id,children:[e.name," ",e.count&&`(${e.count})`]},e.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx($,{className:"h-4 w-4"}),"Modeli"]}),t.jsxs(I,{value:e.model||"",onValueChange:e=>n({model:e}),disabled:!e.brand||0===Q.length,children:[t.jsx(T,{children:t.jsx(z,{placeholder:e.brand?"Zgjidhni modelin":"Zgjidhni markÃ«n sÃ« pari"})}),t.jsx(L,{children:Q.map(e=>t.jsxs(P,{value:e.id,children:[e.name," ",e.count&&`(${e.count})`]},e.id))})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(U,{className:"h-4 w-4"}),"Vitet"]}),t.jsxs("div",{className:"px-2",children:[t.jsx(Ve,{value:d,onValueChange:m,min:a.yearRange.min,max:a.yearRange.max,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-1",children:[t.jsx("span",{children:d[0]}),t.jsx("span",{children:d[1]})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(O,{className:"h-4 w-4"}),"Ã‡mimi (â‚¬)"]}),t.jsxs("div",{className:"px-2",children:[t.jsx(Ve,{value:h,onValueChange:p,min:a.priceRange.min,max:a.priceRange.max,step:1e3,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-1",children:[t.jsxs("span",{children:["â‚¬",h[0].toLocaleString()]}),t.jsxs("span",{children:["â‚¬",h[1].toLocaleString()]})]})]})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(N,{variant:"ghost",onClick:()=>se("advanced"),className:"w-full justify-between p-2 h-auto",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($,{className:"h-4 w-4 text-primary"}),t.jsx("span",{className:"font-medium",children:"Filtrat e Avancuar"})]}),j.includes("advanced")?t.jsx(W,{className:"h-4 w-4"}):t.jsx(K,{className:"h-4 w-4"})]}),j.includes("advanced")&&t.jsxs("div",{className:"space-y-4 p-3 bg-muted/30 rounded-lg",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(q,{className:"h-4 w-4"}),"Lloji i Karburantit"]}),t.jsxs(I,{value:e.fuel||"",onValueChange:e=>n({fuel:e}),children:[t.jsx(T,{children:t.jsx(z,{placeholder:"Zgjidhni karburantin"})}),t.jsx(L,{children:a.fuelTypes.map(e=>t.jsxs(P,{value:e.id,children:[e.name," ",e.count&&`(${e.count})`]},e.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx($,{className:"h-4 w-4"}),"Transmisioni"]}),t.jsxs(I,{value:e.transmission||"",onValueChange:e=>n({transmission:e}),children:[t.jsx(T,{children:t.jsx(z,{placeholder:"Zgjidhni transmisionin"})}),t.jsx(L,{children:a.transmissions.map(e=>t.jsxs(P,{value:e.id,children:[e.name," ",e.count&&`(${e.count})`]},e.id))})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(Z,{className:"h-4 w-4"}),"Kilometrazhi (km)"]}),t.jsxs("div",{className:"px-2",children:[t.jsx(Ve,{value:x,onValueChange:g,min:a.mileageRange.min,max:a.mileageRange.max,step:1e4,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-1",children:[t.jsxs("span",{children:[x[0].toLocaleString()," km"]}),t.jsxs("span",{children:[x[1].toLocaleString()," km"]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(H,{className:"h-4 w-4"}),"Lloji i Trupit"]}),t.jsxs(I,{value:e.bodyType||"",onValueChange:e=>n({bodyType:e}),children:[t.jsx(T,{children:t.jsx(z,{placeholder:"Zgjidhni llojin e trupit"})}),t.jsx(L,{children:a.bodyTypes.map(e=>t.jsxs(P,{value:e.id,children:[e.name," ",e.count&&`(${e.count})`]},e.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(B,{className:"h-4 w-4"}),"Ngjyra"]}),t.jsxs(I,{value:e.color||"",onValueChange:e=>n({color:e}),children:[t.jsx(T,{children:t.jsx(z,{placeholder:"Zgjidhni ngjyrÃ«n"})}),t.jsx(L,{children:a.colors.map(e=>t.jsxs(P,{value:e.id,children:[e.name," ",e.count&&`(${e.count})`]},e.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(Z,{className:"h-4 w-4"}),"Vendndodhja"]}),t.jsxs(I,{value:e.location||"",onValueChange:e=>n({location:e}),children:[t.jsx(T,{children:t.jsx(z,{placeholder:"Zgjidhni vendndodhjen"})}),t.jsx(L,{children:a.locations.map(e=>t.jsxs(P,{value:e.id,children:[e.name," ",e.count&&`(${e.count})`]},e.id))})]})]}),a.conditions&&a.conditions.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(Y,{className:"h-4 w-4"}),"Gjendja"]}),t.jsxs(I,{value:e.condition||"",onValueChange:e=>n({condition:e}),children:[t.jsx(T,{children:t.jsx(z,{placeholder:"Zgjidhni gjendjen"})}),t.jsx(L,{children:a.conditions.map(e=>t.jsxs(P,{value:e.id,children:[e.name," ",e.count&&`(${e.count})`]},e.id))})]})]}),a.saleStatuses&&a.saleStatuses.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(X,{className:"h-4 w-4"}),"Statusi i Shitjes"]}),t.jsxs(I,{value:e.saleStatus||"",onValueChange:e=>n({saleStatus:e}),children:[t.jsx(T,{children:t.jsx(z,{placeholder:"Zgjidhni statusin"})}),t.jsx(L,{children:a.saleStatuses.map(e=>t.jsxs(P,{value:e.id,children:[e.name," ",e.count&&`(${e.count})`]},e.id))})]})]}),a.drivetrains&&a.drivetrains.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx($,{className:"h-4 w-4"}),"Sistemi i Nxitjes"]}),t.jsxs(I,{value:e.drivetrain||"",onValueChange:e=>n({drivetrain:e}),children:[t.jsx(T,{children:t.jsx(z,{placeholder:"Zgjidhni sistemin"})}),t.jsx(L,{children:a.drivetrains.map(e=>t.jsxs(P,{value:e.id,children:[e.name," ",e.count&&`(${e.count})`]},e.id))})]})]}),a.doorCounts&&a.doorCounts.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(H,{className:"h-4 w-4"}),"Numri i Dyerve"]}),t.jsxs(I,{value:e.doors||"",onValueChange:e=>n({doors:e}),children:[t.jsx(T,{children:t.jsx(z,{placeholder:"Zgjidhni numrin e dyerve"})}),t.jsx(L,{children:a.doorCounts.map(e=>t.jsxs(P,{value:e.id,children:[e.name," ",e.count&&`(${e.count})`]},e.id))})]})]}),a.engineSizeRange&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx($,{className:"h-4 w-4"}),"VÃ«llimi i Motorrit (L)"]}),t.jsxs("div",{className:"px-2",children:[t.jsx(Ve,{value:f,onValueChange:v,min:a.engineSizeRange.min,max:a.engineSizeRange.max,step:.1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-1",children:[t.jsxs("span",{children:[f[0].toFixed(1),"L"]}),t.jsxs("span",{children:[f[1].toFixed(1),"L"]})]})]})]}),t.jsxs("div",{className:"space-y-3 border-t pt-3",children:[t.jsx(k,{className:"text-sm font-medium text-foreground",children:"Filtrat e PÃ«rshtatur"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(D,{id:"hasImages",checked:e.hasImages||!1,onCheckedChange:e=>n({hasImages:!!e||void 0})}),t.jsxs(k,{htmlFor:"hasImages",className:"flex items-center gap-2 text-sm cursor-pointer",children:[t.jsx(G,{className:"h-4 w-4"}),"VetÃ«m me fotografi"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(D,{id:"isCertified",checked:e.isCertified||!1,onCheckedChange:e=>n({isCertified:!!e||void 0})}),t.jsxs(k,{htmlFor:"isCertified",className:"flex items-center gap-2 text-sm cursor-pointer",children:[t.jsx(J,{className:"h-4 w-4"}),"VetÃ«m tÃ« certifikuara"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(D,{id:"noAccidents",checked:e.noAccidents||!1,onCheckedChange:e=>n({noAccidents:!!e||void 0})}),t.jsxs(k,{htmlFor:"noAccidents",className:"flex items-center gap-2 text-sm cursor-pointer",children:[t.jsx(Y,{className:"h-4 w-4"}),"Pa aksidente"]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(k,{className:"flex items-center gap-2",children:[t.jsx(X,{className:"h-4 w-4"}),"Maksimum ",e.accidentCountMax||0," aksidente"]}),t.jsxs("div",{className:"px-2",children:[t.jsx(Ve,{value:[e.accidentCountMax||0],onValueChange:([e])=>n({accidentCountMax:e}),min:0,max:10,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-1",children:[t.jsx("span",{children:"0 aksidente"}),t.jsx("span",{children:"10+ aksidente"})]})]})]})]})]}),ee.length>0&&t.jsxs("div",{className:"rounded-md bg-destructive/10 p-3",children:[t.jsx("h4",{className:"text-sm font-medium text-destructive",children:"Ju lutemi korrigoni gabimet e mÃ«poshtme:"}),t.jsx("ul",{className:"mt-1 text-sm text-destructive",children:ee.map((e,a)=>t.jsxs("li",{children:["â€¢ ",e]},a))})]}),s&&t.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Duke pÃ«rditÃ«suar filtrat..."})]})};var Ke=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function $e(e,a){return e===a||!(!Ke(e)||!Ke(a))}function Ue(e,a){if(e.length!==a.length)return!1;for(var t=0;t<e.length;t++)if(!$e(e[t],a[t]))return!1;return!0}function qe(e,a){var t;void 0===a&&(a=Ue);var s,n=[],r=!1;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r&&t===this&&a(i,n)||(s=e.apply(this,i),r=!0,t=this,n=i),s}}var Be="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function Ze(e){cancelAnimationFrame(e.id)}var Ye=-1,Xe=null;function Ge(e){if(void 0===e&&(e=!1),null===Xe||e){var a=document.createElement("div"),t=a.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var s=document.createElement("div"),n=s.style;return n.width="100px",n.height="100px",a.appendChild(s),document.body.appendChild(a),a.scrollLeft>0?Xe="positive-descending":(a.scrollLeft=1,Xe=0===a.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(a),Xe}return Xe}var Je=function(e){var a=e.columnIndex;return e.data,e.rowIndex+":"+a};function Qe(e){var a,t=e.getColumnOffset,s=e.getColumnStartIndexForOffset,n=e.getColumnStopIndexForStartIndex,r=e.getColumnWidth,i=e.getEstimatedTotalHeight,o=e.getEstimatedTotalWidth,l=e.getOffsetForColumnAndAlignment,c=e.getOffsetForRowAndAlignment,d=e.getRowHeight,m=e.getRowOffset,h=e.getRowStartIndexForOffset,p=e.getRowStopIndexForStartIndex,x=e.initInstanceProps,g=e.shouldResetStyleCacheOnItemSizeChange,f=e.validateProps;return(a=function(e){function a(a){var s;return(s=e.call(this,a)||this)._instanceProps=x(s.props,ae(s)),s._resetIsScrollingTimeoutId=null,s._outerRef=void 0,s.state={instance:ae(s),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"==typeof s.props.initialScrollLeft?s.props.initialScrollLeft:0,scrollTop:"number"==typeof s.props.initialScrollTop?s.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},s._callOnItemsRendered=void 0,s._callOnItemsRendered=qe(function(e,a,t,n,r,i,o,l){return s.props.onItemsRendered({overscanColumnStartIndex:e,overscanColumnStopIndex:a,overscanRowStartIndex:t,overscanRowStopIndex:n,visibleColumnStartIndex:r,visibleColumnStopIndex:i,visibleRowStartIndex:o,visibleRowStopIndex:l})}),s._callOnScroll=void 0,s._callOnScroll=qe(function(e,a,t,n,r){return s.props.onScroll({horizontalScrollDirection:t,scrollLeft:e,scrollTop:a,verticalScrollDirection:n,scrollUpdateWasRequested:r})}),s._getItemStyle=void 0,s._getItemStyle=function(e,a){var n,i=s.props,o=i.columnWidth,l=i.direction,c=i.rowHeight,u=s._getItemStyleCache(g&&o,g&&l,g&&c),h=e+":"+a;if(u.hasOwnProperty(h))n=u[h];else{var p=t(s.props,a,s._instanceProps),x="rtl"===l;u[h]=n={position:"absolute",left:x?void 0:p,right:x?p:void 0,top:m(s.props,e,s._instanceProps),height:d(s.props,e,s._instanceProps),width:r(s.props,a,s._instanceProps)}}return n},s._getItemStyleCache=void 0,s._getItemStyleCache=qe(function(e,a,t){return{}}),s._onScroll=function(e){var a=e.currentTarget,t=a.clientHeight,n=a.clientWidth,r=a.scrollLeft,i=a.scrollTop,o=a.scrollHeight,l=a.scrollWidth;s.setState(function(e){if(e.scrollLeft===r&&e.scrollTop===i)return null;var a=s.props.direction,c=r;if("rtl"===a)switch(Ge()){case"negative":c=-r;break;case"positive-descending":c=l-n-r}c=Math.max(0,Math.min(c,l-n));var d=Math.max(0,Math.min(i,o-t));return{isScrolling:!0,horizontalScrollDirection:e.scrollLeft<r?"forward":"backward",scrollLeft:c,scrollTop:d,verticalScrollDirection:e.scrollTop<i?"forward":"backward",scrollUpdateWasRequested:!1}},s._resetIsScrollingDebounced)},s._outerRefSetter=function(e){var a=s.props.outerRef;s._outerRef=e,"function"==typeof a?a(e):null!=a&&"object"==typeof a&&a.hasOwnProperty("current")&&(a.current=e)},s._resetIsScrollingDebounced=function(){var e,a,t;null!==s._resetIsScrollingTimeoutId&&Ze(s._resetIsScrollingTimeoutId),s._resetIsScrollingTimeoutId=(e=s._resetIsScrolling,a=Be(),t={id:requestAnimationFrame(function s(){Be()-a>=150?e.call(null):t.id=requestAnimationFrame(s)})})},s._resetIsScrolling=function(){s._resetIsScrollingTimeoutId=null,s.setState({isScrolling:!1},function(){s._getItemStyleCache(-1)})},s}Q(a,e),a.getDerivedStateFromProps=function(e,a){return ea(e,a),f(e),null};var v=a.prototype;return v.scrollTo=function(e){var a=e.scrollLeft,t=e.scrollTop;void 0!==a&&(a=Math.max(0,a)),void 0!==t&&(t=Math.max(0,t)),this.setState(function(e){return void 0===a&&(a=e.scrollLeft),void 0===t&&(t=e.scrollTop),e.scrollLeft===a&&e.scrollTop===t?null:{horizontalScrollDirection:e.scrollLeft<a?"forward":"backward",scrollLeft:a,scrollTop:t,scrollUpdateWasRequested:!0,verticalScrollDirection:e.scrollTop<t?"forward":"backward"}},this._resetIsScrollingDebounced)},v.scrollToItem=function(e){var a=e.align,t=void 0===a?"auto":a,s=e.columnIndex,n=e.rowIndex,r=this.props,d=r.columnCount,m=r.height,u=r.rowCount,h=r.width,p=this.state,x=p.scrollLeft,g=p.scrollTop,f=function(e){if(void 0===e&&(e=!1),-1===Ye||e){var a=document.createElement("div"),t=a.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(a),Ye=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return Ye}();void 0!==s&&(s=Math.max(0,Math.min(s,d-1))),void 0!==n&&(n=Math.max(0,Math.min(n,u-1)));var v=i(this.props,this._instanceProps),j=o(this.props,this._instanceProps)>h?f:0,y=v>m?f:0;this.scrollTo({scrollLeft:void 0!==s?l(this.props,s,t,x,this._instanceProps,y):x,scrollTop:void 0!==n?c(this.props,n,t,g,this._instanceProps,j):g})},v.componentDidMount=function(){var e=this.props,a=e.initialScrollLeft,t=e.initialScrollTop;if(null!=this._outerRef){var s=this._outerRef;"number"==typeof a&&(s.scrollLeft=a),"number"==typeof t&&(s.scrollTop=t)}this._callPropsCallbacks()},v.componentDidUpdate=function(){var e=this.props.direction,a=this.state,t=a.scrollLeft,s=a.scrollTop;if(a.scrollUpdateWasRequested&&null!=this._outerRef){var n=this._outerRef;if("rtl"===e)switch(Ge()){case"negative":n.scrollLeft=-t;break;case"positive-ascending":n.scrollLeft=t;break;default:var r=n.clientWidth,i=n.scrollWidth;n.scrollLeft=i-r-t}else n.scrollLeft=Math.max(0,t);n.scrollTop=Math.max(0,s)}this._callPropsCallbacks()},v.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&Ze(this._resetIsScrollingTimeoutId)},v.render=function(){var e=this.props,a=e.children,t=e.className,s=e.columnCount,n=e.direction,r=e.height,l=e.innerRef,c=e.innerElementType,d=e.innerTagName,m=e.itemData,h=e.itemKey,p=void 0===h?Je:h,x=e.outerElementType,g=e.outerTagName,f=e.rowCount,v=e.style,j=e.useIsScrolling,y=e.width,w=this.state.isScrolling,b=this._getHorizontalRangeToRender(),N=b[0],S=b[1],M=this._getVerticalRangeToRender(),C=M[0],R=M[1],_=[];if(s>0&&f)for(var k=C;k<=R;k++)for(var I=N;I<=S;I++)_.push(u.createElement(a,{columnIndex:I,data:m,isScrolling:j?w:void 0,key:p({columnIndex:I,data:m,rowIndex:k}),rowIndex:k,style:this._getItemStyle(k,I)}));var T=i(this.props,this._instanceProps),z=o(this.props,this._instanceProps);return u.createElement(x||g||"div",{className:t,onScroll:this._onScroll,ref:this._outerRefSetter,style:ee({position:"relative",height:r,width:y,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:n},v)},u.createElement(c||d||"div",{children:_,ref:l,style:{height:T,pointerEvents:w?"none":void 0,width:z}}))},v._callPropsCallbacks=function(){var e=this.props,a=e.columnCount,t=e.onItemsRendered,s=e.onScroll,n=e.rowCount;if("function"==typeof t&&a>0&&n>0){var r=this._getHorizontalRangeToRender(),i=r[0],o=r[1],l=r[2],c=r[3],d=this._getVerticalRangeToRender(),m=d[0],u=d[1],h=d[2],p=d[3];this._callOnItemsRendered(i,o,m,u,l,c,h,p)}if("function"==typeof s){var x=this.state,g=x.horizontalScrollDirection,f=x.scrollLeft,v=x.scrollTop,j=x.scrollUpdateWasRequested,y=x.verticalScrollDirection;this._callOnScroll(f,v,g,y,j)}},v._getHorizontalRangeToRender=function(){var e=this.props,a=e.columnCount,t=e.overscanColumnCount,r=e.overscanColumnsCount,i=e.overscanCount,o=e.rowCount,l=this.state,c=l.horizontalScrollDirection,d=l.isScrolling,m=l.scrollLeft,u=t||r||i||1;if(0===a||0===o)return[0,0,0,0];var h=s(this.props,m,this._instanceProps),p=n(this.props,h,m,this._instanceProps),x=d&&"backward"!==c?1:Math.max(1,u),g=d&&"forward"!==c?1:Math.max(1,u);return[Math.max(0,h-x),Math.max(0,Math.min(a-1,p+g)),h,p]},v._getVerticalRangeToRender=function(){var e=this.props,a=e.columnCount,t=e.overscanCount,s=e.overscanRowCount,n=e.overscanRowsCount,r=e.rowCount,i=this.state,o=i.isScrolling,l=i.verticalScrollDirection,c=i.scrollTop,d=s||n||t||1;if(0===a||0===r)return[0,0,0,0];var m=h(this.props,c,this._instanceProps),u=p(this.props,m,c,this._instanceProps),x=o&&"backward"!==l?1:Math.max(1,d),g=o&&"forward"!==l?1:Math.max(1,d);return[Math.max(0,m-x),Math.max(0,Math.min(r-1,u+g)),m,u]},a}(u.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},a}var ea=function(e,a){e.children,e.direction,e.height,e.innerTagName,e.outerTagName,e.overscanColumnsCount,e.overscanCount,e.overscanRowsCount,e.width,a.instance},aa=Qe({getColumnOffset:function(e,a){return a*e.columnWidth},getColumnWidth:function(e,a){return e.columnWidth},getRowOffset:function(e,a){return a*e.rowHeight},getRowHeight:function(e,a){return e.rowHeight},getEstimatedTotalHeight:function(e){var a=e.rowCount;return e.rowHeight*a},getEstimatedTotalWidth:function(e){var a=e.columnCount;return e.columnWidth*a},getOffsetForColumnAndAlignment:function(e,a,t,s,n,r){var i=e.columnCount,o=e.columnWidth,l=e.width,c=Math.max(0,i*o-l),d=Math.min(c,a*o),m=Math.max(0,a*o-l+r+o);switch("smart"===t&&(t=s>=m-l&&s<=d+l?"auto":"center"),t){case"start":return d;case"end":return m;case"center":var u=Math.round(m+(d-m)/2);return u<Math.ceil(l/2)?0:u>c+Math.floor(l/2)?c:u;default:return s>=m&&s<=d?s:m>d||s<m?m:d}},getOffsetForRowAndAlignment:function(e,a,t,s,n,r){var i=e.rowHeight,o=e.height,l=e.rowCount,c=Math.max(0,l*i-o),d=Math.min(c,a*i),m=Math.max(0,a*i-o+r+i);switch("smart"===t&&(t=s>=m-o&&s<=d+o?"auto":"center"),t){case"start":return d;case"end":return m;case"center":var u=Math.round(m+(d-m)/2);return u<Math.ceil(o/2)?0:u>c+Math.floor(o/2)?c:u;default:return s>=m&&s<=d?s:m>d||s<m?m:d}},getColumnStartIndexForOffset:function(e,a){var t=e.columnWidth,s=e.columnCount;return Math.max(0,Math.min(s-1,Math.floor(a/t)))},getColumnStopIndexForStartIndex:function(e,a,t){var s=e.columnWidth,n=e.columnCount,r=e.width,i=a*s,o=Math.ceil((r+t-i)/s);return Math.max(0,Math.min(n-1,a+o-1))},getRowStartIndexForOffset:function(e,a){var t=e.rowHeight,s=e.rowCount;return Math.max(0,Math.min(s-1,Math.floor(a/t)))},getRowStopIndexForStartIndex:function(e,a,t){var s=e.rowHeight,n=e.rowCount,r=e.height,i=a*s,o=Math.ceil((r+t-i)/s);return Math.max(0,Math.min(n-1,a+o-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.columnWidth,e.rowHeight}});const ta=({size:e="md",className:a})=>{const s={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20"};return t.jsx("div",{className:b("flex items-center justify-center",a),children:t.jsxs("div",{className:"relative flex items-center justify-center",children:[t.jsx("div",{className:b("absolute border-2 border-primary/30 border-t-primary rounded-full animate-spin",s[e])}),t.jsx("img",{src:"/lovable-uploads/d1ff645d-f293-44ab-b806-ae5eb2483633.png",alt:"KORAUTO Logo Loading",className:b({sm:"h-8 w-auto",md:"h-12 w-auto",lg:"h-16 w-auto",xl:"h-20 w-auto"}[e],"object-contain dark:invert dark:brightness-0 dark:contrast-100","animate-pulse transition-all duration-300 relative z-10")}),t.jsxs("div",{className:b("absolute inset-0 flex items-center justify-center",s[e]),children:[t.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-2",children:t.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-ping",style:{animationDelay:"0s"}})}),t.jsx("div",{className:"absolute top-1/2 right-0 translate-x-2 -translate-y-1/2",children:t.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-ping",style:{animationDelay:"0.5s"}})}),t.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-2",children:t.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-ping",style:{animationDelay:"1s"}})}),t.jsx("div",{className:"absolute top-1/2 left-0 -translate-x-2 -translate-y-1/2",children:t.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-ping",style:{animationDelay:"1.5s"}})})]})]})})},sa=()=>t.jsx(M,{className:"w-full h-full",children:t.jsxs(C,{className:"p-4",children:[t.jsx(R,{className:"h-48 w-full mb-4 rounded-lg"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(R,{className:"h-5 w-3/4"}),t.jsx(R,{className:"h-4 w-1/2"}),t.jsx(R,{className:"h-4 w-2/3"}),t.jsxs("div",{className:"flex justify-between items-center mt-3",children:[t.jsx(R,{className:"h-6 w-20"}),t.jsx(R,{className:"h-6 w-16"})]})]})]})}),na=h.memo(({car:e,onClick:a})=>t.jsx(M,{className:"w-full h-full cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",onClick:a,children:t.jsxs(C,{className:"p-4",children:[t.jsx("div",{className:"relative h-48 mb-4 rounded-lg overflow-hidden bg-muted",children:e.images&&e.images.length>0?t.jsx("img",{src:e.images[0],alt:`${e.make} ${e.model}`,className:"w-full h-full object-cover",loading:"lazy",onError:e=>{e.target.src="/images/car-placeholder.jpg"}}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:t.jsx("span",{className:"text-sm",children:"No Image"})})}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("h3",{className:"font-semibold text-lg line-clamp-1",children:[e.year," ",e.make," ",e.model]}),t.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.mileage&&t.jsxs("p",{children:[e.mileage.toLocaleString()," km"]}),e.fuel&&e.transmission&&t.jsxs("p",{children:[e.fuel," â€¢ ",e.transmission]}),e.color&&t.jsxs("p",{children:["Color: ",e.color]}),e.location&&t.jsxs("p",{children:["ðŸ“ ",e.location]})]}),t.jsxs("div",{className:"flex justify-between items-center mt-3",children:[t.jsxs("div",{className:"text-xl font-bold text-primary",children:["â‚¬",e.price.toLocaleString()]}),e.bodyType&&t.jsx(F,{variant:"outline",className:"text-xs",children:e.bodyType})]})]})]})}));na.displayName="CarCard";const ra=({columnIndex:e,rowIndex:a,style:s,data:n})=>{const{cars:r,columnsPerRow:i,onCarClick:o,isLoading:l}=n,c=r[a*i+e];return t.jsx("div",{style:{...s,padding:"8px"},children:c?t.jsx(na,{car:c,onClick:()=>o(c)}):l?t.jsx(sa,{}):null})},ia=({cars:e,isLoading:a,error:s,hasMore:n,onLoadMore:r,onCarClick:i,className:o="",totalCount:l,activeFiltersCount:c})=>{const d=u.useRef(null),{columnsPerRow:m,rowCount:h,cardWidth:p,cardHeight:x}=u.useMemo(()=>{const a=window.innerWidth;let t,s;return a>=1536?(t=280,s=Math.floor((a-64)/(t+16))):a>=1280?(t=260,s=Math.floor((a-64)/(t+16))):a>=1024?(t=240,s=Math.floor((a-48)/(t+16))):a>=768?(t=220,s=Math.floor((a-32)/(t+16))):(t=Math.min(300,a-32),s=1),{columnsPerRow:s,rowCount:Math.ceil(e.length/s),cardWidth:t,cardHeight:320}},[e.length]),g=((e,a)=>{const t=u.useRef(null);return u.useEffect(()=>{const s=t.current;if(!s)return;const n=new IntersectionObserver(([a])=>{a.isIntersecting&&e()},a);return n.observe(s),()=>{n.disconnect()}},[e,a]),t})(u.useCallback(()=>{n&&!a&&r()},[n,a,r]),{rootMargin:"200px"}),f=u.useMemo(()=>({cars:e,columnsPerRow:m,onCarClick:i,isLoading:a}),[e,m,i,a]);return s?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"text-destructive text-lg font-medium mb-2",children:"Failed to load cars"}),t.jsx("div",{className:"text-muted-foreground mb-4",children:s.message}),t.jsx(N,{onClick:()=>window.location.reload(),children:"Retry"})]}):a||0!==e.length?t.jsxs("div",{className:`w-full ${o}`,ref:d,children:[t.jsx("div",{className:"w-full",style:{height:"80vh",minHeight:"600px"},children:t.jsx(aa,{columnCount:m,rowCount:h,columnWidth:p+16,rowHeight:x+16,width:m*(p+16),height:Math.min(.8*window.innerHeight,h*(x+16)),itemData:f,className:"scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",children:ra})}),a&&e.length>0&&t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(ta,{size:"md"})}),n&&!a&&t.jsx("div",{ref:g,className:"h-1"}),n&&!a&&e.length>0&&t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(N,{onClick:r,variant:"outline",size:"lg",className:"flex items-center gap-2",children:c&&c>0?t.jsxs(t.Fragment,{children:["Load More Filtered Cars",t.jsxs("div",{className:"text-xs text-muted-foreground ml-2",children:["(",e.length," of ",l?l.toLocaleString():"many"," shown)"]})]}):t.jsxs(t.Fragment,{children:["Load More Cars",t.jsxs("div",{className:"text-xs text-muted-foreground ml-2",children:["(",e.length," of ",l?l.toLocaleString():"many"," shown)"]})]})})}),a&&0===e.length&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:Array.from({length:20}).map((e,a)=>t.jsx(sa,{},a))}),!n&&e.length>0&&t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx("p",{children:"You've reached the end of the results"}),t.jsxs("p",{className:"text-sm mt-1",children:[e.length," cars total"]})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"text-lg font-medium mb-2",children:"No cars found"}),t.jsx("div",{className:"text-muted-foreground mb-4",children:"Try adjusting your filters to see more results"}),t.jsx(N,{variant:"outline",onClick:()=>window.dispatchEvent(new CustomEvent("clear-filters")),children:"Clear Filters"})]})},oa=u.lazy(()=>e(()=>import("./Header-CbL792xF.js"),__vite__mapDeps([4,5,1,6,3,7,8,9,10,2,11,12]))),la=u.lazy(()=>e(()=>import("./Footer-DRRobR63.js"),__vite__mapDeps([13,5,1,9,14,6,3,7,8,10,15]))),ca=new f({defaultOptions:{queries:{staleTime:45e3,refetchOnWindowFocus:!1,retry:(e,a)=>!(a instanceof Error&&"AbortError"===a.name)&&e<2}}}),da={brands:[{id:"toyota",name:"Toyota",count:245},{id:"honda",name:"Honda",count:134},{id:"bmw",name:"BMW",count:312},{id:"mercedes-benz",name:"Mercedes-Benz",count:189},{id:"audi",name:"Audi",count:245},{id:"volkswagen",name:"Volkswagen",count:156},{id:"hyundai",name:"Hyundai",count:201},{id:"kia",name:"Kia",count:134}],models:[{id:"a3",name:"A3",brandId:"audi",count:45},{id:"a4",name:"A4",brandId:"audi",count:67},{id:"a6",name:"A6",brandId:"audi",count:38},{id:"3-series",name:"3 Series",brandId:"bmw",count:89},{id:"5-series",name:"5 Series",brandId:"bmw",count:76},{id:"x3",name:"X3",brandId:"bmw",count:54},{id:"c-class",name:"C-Class",brandId:"mercedes",count:43},{id:"e-class",name:"E-Class",brandId:"mercedes",count:52},{id:"glc",name:"GLC",brandId:"mercedes",count:34}],fuelTypes:[{id:"petrol",name:"BenzinÃ«",count:567},{id:"diesel",name:"Dizel",count:432},{id:"hybrid",name:"Hibrid",count:123},{id:"electric",name:"Elektrik",count:89}],transmissions:[{id:"manual",name:"Manuale",count:543},{id:"automatic",name:"Automatike",count:678},{id:"cvt",name:"CVT",count:45}],bodyTypes:[{id:"sedan",name:"Sedan",count:456},{id:"suv",name:"SUV",count:334},{id:"hatchback",name:"Hatchback",count:234},{id:"coupe",name:"CoupÃ©",count:123},{id:"wagon",name:"Wagon",count:87}],colors:[{id:"black",name:"E ZezÃ«",count:234},{id:"white",name:"E BardhÃ«",count:198},{id:"silver",name:"ArgjendtÃ«",count:156},{id:"gray",name:"Gri",count:134},{id:"blue",name:"Blu",count:98},{id:"red",name:"E Kuqe",count:76}],locations:[{id:"pristina",name:"PrishtinÃ«",count:456},{id:"prizren",name:"Prizren",count:234},{id:"mitrovica",name:"MitrovicÃ«",count:123},{id:"peja",name:"PejÃ«",count:98}],yearRange:{min:2e3,max:2024},priceRange:{min:5e3,max:1e5},mileageRange:{min:0,max:3e5}},ma=[{value:"recently_added",label:"Shtuar sÃ« Fundmi"},{value:"price_asc",label:"Ã‡mimi: Nga i UlÃ«t nÃ« tÃ« LartÃ«"},{value:"price_desc",label:"Ã‡mimi: Nga i LartÃ« nÃ« tÃ« UlÃ«t"},{value:"year_desc",label:"Viti: MÃ« tÃ« Rejat sÃ« Pari"},{value:"year_asc",label:"Viti: MÃ« tÃ« Vjetrat sÃ« Pari"},{value:"mileage_asc",label:"Kilometrazhi: Nga i UlÃ«t nÃ« tÃ« LartÃ«"},{value:"mileage_desc",label:"Kilometrazhi: Nga i LartÃ« nÃ« tÃ« UlÃ«t"}],ua=()=>{const a=j(),{filters:s,updateFilters:n,updateFilter:r,updateBrand:i,clearFilters:o}=(()=>{const[e,a]=v(),t={brand:e.get("brand")||void 0,model:e.get("model")||void 0,fuel:e.get("fuel")||void 0,transmission:e.get("transmission")||void 0,bodyType:e.get("bodyType")||void 0,color:e.get("color")||void 0,location:e.get("location")||void 0,condition:e.get("condition")||void 0,saleStatus:e.get("saleStatus")||void 0,drivetrain:e.get("drivetrain")||void 0,doors:e.get("doors")||void 0,yearMin:e.get("yearMin")?parseInt(e.get("yearMin")):void 0,yearMax:e.get("yearMax")?parseInt(e.get("yearMax")):void 0,priceMin:e.get("priceMin")?parseInt(e.get("priceMin")):void 0,priceMax:e.get("priceMax")?parseInt(e.get("priceMax")):void 0,mileageMin:e.get("mileageMin")?parseInt(e.get("mileageMin")):void 0,mileageMax:e.get("mileageMax")?parseInt(e.get("mileageMax")):void 0,engineSizeMin:e.get("engineSizeMin")?parseFloat(e.get("engineSizeMin")):void 0,engineSizeMax:e.get("engineSizeMax")?parseFloat(e.get("engineSizeMax")):void 0,accidentCountMax:e.get("accidentCountMax")?parseInt(e.get("accidentCountMax")):void 0,hasImages:"true"===e.get("hasImages")||void 0,isCertified:"true"===e.get("isCertified")||void 0,noAccidents:"true"===e.get("noAccidents")||void 0,page:e.get("page")?parseInt(e.get("page")):1,pageSize:e.get("pageSize")?parseInt(e.get("pageSize")):20,sort:e.get("sort")||"price_asc",search:e.get("search")||void 0},s=u.useCallback((e,s)=>{const n={...t,...e},r=Object.entries(n).reduce((e,[a,t])=>(null!=t&&""!==t&&(e[a]=t.toString()),e),{});r.page||(r.page="1"),r.sort||(r.sort="price_asc"),a(r,{replace:s?.replace})},[t,a]),n=u.useCallback(()=>{a({page:"1",sort:t.sort||"price_asc"})},[a,t.sort]),r=u.useCallback((e,a)=>{s("sort"===e||"page"===e?{[e]:a}:{[e]:a,page:1})},[s]),i=u.useCallback(e=>{s({brand:e,model:void 0,page:1})},[s]);return{filters:t,updateFilters:s,updateFilter:r,updateBrand:i,clearFilters:n}})(),{cars:l,total:c,hasMore:d,models:m,isLoading:h,isFetching:g,error:f}=(a=>{const t=p();w();const s=u.useRef(null),[n,r]=u.useState([]),[i,o]=u.useState(0),[l,c]=u.useState(!1),[d,m]=u.useState(),h={...a};delete h.page;const g=JSON.stringify(h),f=u.useRef(g),v={...a};delete v.page,delete v.sort;const j=JSON.stringify(v),y=u.useRef(j);u.useEffect(()=>{g!==f.current&&(r([]),m(void 0),f.current=g)},[g]),u.useEffect(()=>{j!==y.current&&(r([]),m(void 0),y.current=j)},[j]);const b=1===(a.page||1)?void 0:d,N=["cars",ne(a),b],S=u.useCallback(()=>{s.current&&(s.current.abort(),s.current=null)},[]),M=x({queryKey:N,queryFn:async({signal:e})=>{S(),s.current=new AbortController;const t=e||s.current.signal;performance.now();try{const e=await oe(ne(a),t,b);return performance.now(),e.nextCursor&&m(e.nextCursor),e}finally{s.current=null}},staleTime:45e3,placeholderData:e=>e,enabled:!0,retry:(e,a)=>!(a instanceof Error&&"AbortError"===a.name)&&e<2});u.useEffect(()=>{if(M.data){const{cars:e,total:t,hasMore:s}=M.data,n=1===(a.page||1);o(t),n?(r(e),c(s)):r(a=>{const n=new Set(a.map(e=>e.id)),r=e.filter(e=>!n.has(e.id)),i=[...a,...r];return c(s&&i.length<t),i})}},[M.data,a.page]);const C=n,R=x({queryKey:["models",a.brand],queryFn:async({signal:t})=>a.brand?(async(a,t)=>{const{carModels:s}=await e(async()=>{const{carModels:e}=await import("./mockCarsData-YFf7OdA2.js");return{carModels:e}},[]);if(await new Promise(e=>setTimeout(e,200)),t?.aborted)throw new Error("Request aborted");return(s[a.charAt(0).toUpperCase()+a.slice(1)]||[]).map((e,t)=>({id:e.toLowerCase().replace(/\s+/g,"-"),name:e,brandId:a}))})(a.brand,t):[],staleTime:3e5,enabled:!!a.brand}),_=u.useCallback(()=>{if(l&&d){const e={...a,page:(a.page||1)+1},s=["cars",ne(e),d];t.prefetchQuery({queryKey:s,queryFn:async({signal:a})=>oe(ne(e),a,d),staleTime:45e3})}},[l,d,a,t]),k=u.useCallback(()=>{t.invalidateQueries({queryKey:["cars"]}),r([]),m(void 0)},[t]);return{cars:C,total:i,totalPages:Math.ceil(i/(a.pageSize||20)),hasMore:l,models:R.data||[],isLoading:M.isLoading,isFetching:M.isFetching,isLoadingModels:R.isLoading,error:M.error,modelsError:R.error,refetch:M.refetch,prefetchNextPage:_,invalidateQueries:k,cancelPreviousRequest:S}})(s),[y,M]=u.useState(!0),[C,_]=u.useState(!1);u.useEffect(()=>{te(void 0,{page_type:"new_catalog",total_cars:c,active_filters:Object.keys(s).filter(e=>void 0!==s[e]&&"page"!==e&&"pageSize"!==e&&"sort"!==e).length})},[c,s]);const k={...da,models:m.map(e=>({id:e.id,name:e.name,brandId:e.brandId,count:void 0}))},D=Object.keys(s).filter(e=>void 0!==s[e]&&"page"!==e&&"pageSize"!==e&&"sort"!==e).length;return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx(u.Suspense,{fallback:t.jsx(R,{className:"h-16 w-full"}),children:t.jsx(oa,{})}),t.jsxs("div",{className:"flex min-h-[calc(100vh-4rem)]",children:[t.jsx("div",{className:b("transition-all duration-300 ease-in-out border-r bg-card",y&&!C?"w-80":"w-0","flex-shrink-0 overflow-hidden"),children:t.jsx("div",{className:"h-full overflow-y-auto",children:y&&!C&&t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),t.jsx(N,{variant:"ghost",size:"sm",onClick:()=>_(!0),children:t.jsx(S,{className:"h-4 w-4"})})]}),t.jsx(We,{filters:s,data:k,isLoading:h,onFiltersChange:e=>{n(e)},onClearFilters:o})]})})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"p-4 lg:p-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(N,{variant:"ghost",size:"sm",onClick:()=>a(-1),className:"flex items-center gap-2",children:[t.jsx(se,{className:"h-4 w-4"}),"Back"]}),(!y||C)&&t.jsxs(N,{variant:"outline",onClick:()=>{M(!0),_(!1)},className:"flex items-center gap-2",children:[t.jsx(A,{className:"h-4 w-4"}),"Show Filters",D>0&&t.jsx(F,{variant:"secondary",className:"ml-1",children:D})]})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(E,{className:"h-4 w-4 text-muted-foreground"}),t.jsxs(I,{value:s.sort||"recently_added",onValueChange:e=>{r("sort",e)},children:[t.jsx(T,{className:"w-[200px]",children:t.jsx(z,{placeholder:"Sort by"})}),t.jsx(L,{children:ma.map(e=>t.jsx(P,{value:e.value,children:e.label},e.value))})]})]})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl lg:text-3xl font-bold mb-2",children:"Car Catalog"}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxs("span",{children:[c.toLocaleString()," cars found"]}),l.length>0&&l.length<c&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"â€¢"}),t.jsxs("span",{children:["Showing ",l.length," of ",c.toLocaleString()]})]}),g&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"â€¢"}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-primary"}),"Loading..."]})]})]})]}),D>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Active Filters:"}),t.jsx(F,{variant:"outline",children:D}),t.jsx(N,{variant:"outline",size:"sm",onClick:o,className:"ml-auto",children:"Clear All"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.brand&&t.jsxs(F,{variant:"secondary",className:"flex items-center gap-1",children:["Brand: ",k.brands.find(e=>e.id===s.brand)?.name||s.brand,t.jsx(N,{variant:"ghost",size:"sm",className:"h-auto w-auto p-0 hover:bg-transparent",onClick:()=>i(void 0),children:t.jsx(S,{className:"h-3 w-3"})})]}),s.model&&t.jsxs(F,{variant:"secondary",className:"flex items-center gap-1",children:["Model: ",k.models.find(e=>e.id===s.model)?.name||s.model,t.jsx(N,{variant:"ghost",size:"sm",className:"h-auto w-auto p-0 hover:bg-transparent",onClick:()=>r("model",void 0),children:t.jsx(S,{className:"h-3 w-3"})})]}),s.fuel&&t.jsxs(F,{variant:"secondary",className:"flex items-center gap-1",children:["Fuel: ",k.fuelTypes.find(e=>e.id===s.fuel)?.name||s.fuel,t.jsx(N,{variant:"ghost",size:"sm",className:"h-auto w-auto p-0 hover:bg-transparent",onClick:()=>r("fuel",void 0),children:t.jsx(S,{className:"h-3 w-3"})})]}),(s.yearMin||s.yearMax)&&t.jsxs(F,{variant:"secondary",className:"flex items-center gap-1",children:["Year: ",s.yearMin||k.yearRange.min,"-",s.yearMax||k.yearRange.max,t.jsx(N,{variant:"ghost",size:"sm",className:"h-auto w-auto p-0 hover:bg-transparent",onClick:()=>n({yearMin:void 0,yearMax:void 0}),children:t.jsx(S,{className:"h-3 w-3"})})]}),(s.priceMin||s.priceMax)&&t.jsxs(F,{variant:"secondary",className:"flex items-center gap-1",children:["Price: â‚¬",(s.priceMin||k.priceRange.min).toLocaleString(),"-â‚¬",(s.priceMax||k.priceRange.max).toLocaleString(),t.jsx(N,{variant:"ghost",size:"sm",className:"h-auto w-auto p-0 hover:bg-transparent",onClick:()=>n({priceMin:void 0,priceMax:void 0}),children:t.jsx(S,{className:"h-3 w-3"})})]})]})]}),t.jsx(ia,{cars:l,isLoading:h,error:f,hasMore:d,onLoadMore:()=>{r("page",(s.page||1)+1)},onCarClick:e=>{a(`/car/${e.id}`)},totalCount:c,activeFiltersCount:D})]})})]}),t.jsx(u.Suspense,{fallback:t.jsx(R,{className:"h-64 w-full"}),children:t.jsx(la,{})})]})},ha=()=>t.jsx(g,{client:ca,children:t.jsx(ua,{})});export{ha as default};
