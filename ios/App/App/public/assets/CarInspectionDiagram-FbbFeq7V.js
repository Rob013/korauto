import{j as e}from"./ui-5CGx59HE.js";import{r as t}from"./vendor-Ce2S7JN_.js";import{B as s}from"./badge-CtAh7DWu.js";import{C as i,b as r}from"./index-DXJv48IP.js";import"./supabase-FBsvvB2P.js";import"./utils-DN5cgeP9.js";import"./query-D7el4M-V.js";import"./router-CrtsEgIx.js";const a=({inspectionData:a=[],className:d=""})=>{const[l,n]=t.useState(null),[o,c]=t.useState(null),m=[{id:"front_bumper",name:"Bamper i përparmë",x:220,y:50,width:160,height:25,rx:12},{id:"hood",name:"Kapaku i motorit",x:240,y:75,width:120,height:60,rx:8},{id:"windshield",name:"Xhami i përparmë",x:250,y:135,width:100,height:50,rx:5},{id:"front_left_door",name:"Dera e përparme e majtë",x:180,y:185,width:25,height:80,rx:5},{id:"rear_left_door",name:"Dera e pasme e majtë",x:180,y:265,width:25,height:80,rx:5},{id:"front_right_door",name:"Dera e përparme e djathtë",x:395,y:185,width:25,height:80,rx:5},{id:"rear_right_door",name:"Dera e pasme e djathtë",x:395,y:265,width:25,height:80,rx:5},{id:"roof",name:"Çatia",x:250,y:185,width:100,height:160,rx:8},{id:"rear_windshield",name:"Xhami i pasëm",x:250,y:345,width:100,height:40,rx:5},{id:"trunk",name:"Bagazhi",x:240,y:385,width:120,height:50,rx:8},{id:"rear_bumper",name:"Bamper i pasëm",x:220,y:435,width:160,height:25,rx:12},{id:"front_left_wheel",name:"Rrota e përparme e majtë",x:200,y:120,width:40,height:40,rx:20},{id:"front_right_wheel",name:"Rrota e përparme e djathtë",x:360,y:120,width:40,height:40,rx:20},{id:"rear_left_wheel",name:"Rrota e pasme e majtë",x:200,y:380,width:40,height:40,rx:20},{id:"rear_right_wheel",name:"Rrota e pasme e djathtë",x:360,y:380,width:40,height:40,rx:20},{id:"left_side_panel",name:"Paneli i majtë",x:205,y:185,width:45,height:160,rx:8},{id:"right_side_panel",name:"Paneli i djathtë",x:350,y:185,width:45,height:160,rx:8}],x=e=>{const t=a.find(t=>t.type.code===e||t.type.title.toLowerCase().includes(e.toLowerCase())||e.includes("front")&&(t.type.title.includes("앞")||t.type.title.includes("전"))||e.includes("rear")&&(t.type.title.includes("뒤")||t.type.title.includes("후"))||e.includes("left")&&t.type.title.includes("좌")||e.includes("right")&&t.type.title.includes("우")||e.includes("door")&&t.type.title.includes("도어")||e.includes("hood")&&t.type.title.includes("후드")||e.includes("bumper")&&t.type.title.includes("범퍼"));return t?.statusTypes||[]},h=e=>{if(0===e.length)return"#10b981";const t=e.some(e=>"X"===e.code||e.title.includes("교환")||e.title.includes("exchange")),s=e.some(e=>"W"===e.code||e.title.includes("용접")||e.title.includes("weld")),i=e.some(e=>"A"===e.code||e.title.includes("수리")||e.title.includes("repair")),r=e.some(e=>"C"===e.code||e.title.includes("판금")||e.title.includes("sheet"));return t?"#dc2626":s||i?"#ea580c":r?"#d97706":"#10b981"},p=e=>{if(0===e.length)return"Në gjendje të mirë";const t=e.some(e=>"X"===e.code||e.title.includes("교환")||e.title.includes("exchange")),s=e.some(e=>"W"===e.code||e.title.includes("용접")||e.title.includes("weld")),i=e.some(e=>"A"===e.code||e.title.includes("수리")||e.title.includes("repair")),r=e.some(e=>"C"===e.code||e.title.includes("판금")||e.title.includes("sheet"));return t?"E zëvendësuar (E kuqe)":s?"Zëvendësim":r?"Punë limarie (Ngjyrë kafe)":i?"E riparuar (Portokalli)":"Në gjendje të mirë"},u=a.filter(e=>e.statusTypes.some(e=>"X"===e.code||e.title.includes("교환")||e.title.includes("exchange"))).length,g=a.filter(e=>e.statusTypes.some(e=>"W"===e.code||e.title.includes("용접")||e.title.includes("weld"))).length,j=a.filter(e=>e.statusTypes.some(e=>"A"===e.code||e.title.includes("수리")||e.title.includes("repair"))).length,f=(a.filter(e=>!e.statusTypes.some(e=>"X"===e.code||"W"===e.code||"A"===e.code)).length,e=>{n(e)});return e.jsxs("div",{className:`w-full max-w-6xl mx-auto p-6 bg-card border border-border rounded-2xl shadow-lg inspection-section-black ${d}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-foreground mb-3 inspection-text-black",children:"Diagrami i Inspektimit të Automjetit"}),e.jsx("p",{className:"text-muted-foreground",children:"Kliko mbi pjesët e makinës për më shumë detaje"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[o&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4",children:"Përmbledhje e Gjendjes"}),e.jsx(i,{className:"border-l-4 border-l-primary",children:e.jsx(r,{className:"p-4",children:u>0?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-destructive",children:"Gjendja"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Ka pjesë të zëvendësuara (të kuqe)"})]})]}):g>0?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-orange-700 dark:text-orange-400",children:"RIPARIME"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"riparime"})]})]}):j>0?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-orange-700 dark:text-orange-400",children:"RIPARIME"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Disa pjesë janë riparuar (portokalli)"})]})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-700 dark:text-green-400",children:"Gjendje e Shkëlqyer"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Automjeti në gjendje perfekte"})]})]})})})]}),e.jsx(i,{children:e.jsxs(r,{className:"p-4",children:[e.jsx("h5",{className:"text-sm font-semibold text-foreground mb-3",children:"Legjenda e Ngjyrave"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:"🟢"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Green parts: Components in good condition"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:"🟠"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Orange parts: Components that have been repaired"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:"🔴"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Red parts: Components that have been completely replaced"})]})]})]})})]}),e.jsx("div",{className:"lg:col-span-2 flex justify-center",children:e.jsxs("div",{className:"relative w-full max-w-2xl",children:[e.jsxs("svg",{width:"100%",height:"500",viewBox:"0 0 600 500",className:"border border-border rounded-xl bg-gradient-to-b from-blue-50 to-blue-100 dark:from-gray-800 dark:to-gray-900 shadow-lg",preserveAspectRatio:"xMidYMid meet",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"hsl(var(--border))",strokeWidth:"0.5",opacity:"0.2"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),e.jsx("ellipse",{cx:"300",cy:"470",rx:"120",ry:"20",fill:"rgba(0,0,0,0.1)"}),e.jsx("path",{d:"M 220 60 L 380 60 Q 390 60 390 70 L 390 430 Q 390 440 380 440 L 220 440 Q 210 440 210 430 L 210 70 Q 210 60 220 60 Z",fill:"none",stroke:"hsl(var(--border))",strokeWidth:"3",strokeDasharray:"8,4",opacity:"0.6"}),m.map(t=>{const s=x(t.id),i=h(s),r=l===t.id,a=o===t.id;return e.jsxs("g",{children:[e.jsx("rect",{x:t.x+2,y:t.y+2,width:t.width,height:t.height,rx:t.rx||0,fill:"rgba(0,0,0,0.1)",opacity:"0.3"}),e.jsx("rect",{x:t.x,y:t.y,width:t.width,height:t.height,rx:t.rx||0,fill:i,stroke:a?"hsl(var(--foreground))":r?"hsl(var(--ring))":"white",strokeWidth:a?4:r?3:2,opacity:r||a?.95:.8,className:"cursor-pointer transition-all duration-300 hover:opacity-95 drop-shadow-sm",onMouseEnter:()=>f(t.id),onMouseLeave:()=>f(null),onClick:()=>{return e=t.id,void c(o===e?null:e);var e}}),(r||a)&&e.jsx("text",{x:t.x+t.width/2,y:t.y+t.height/2,textAnchor:"middle",dominantBaseline:"middle",fontSize:"8",fill:"white",fontWeight:"bold",className:"pointer-events-none drop-shadow-sm",children:t.name.split(" ")[0]})]},t.id)}),e.jsx("line",{x1:"300",y1:"60",x2:"300",y2:"440",stroke:"hsl(var(--border))",strokeWidth:"2",strokeDasharray:"6,4",opacity:"0.4"}),e.jsxs("g",{children:[e.jsx("polygon",{points:"300,35 315,55 285,55",fill:"hsl(var(--primary))",opacity:"0.8"}),e.jsx("text",{x:"325",y:"50",className:"text-sm font-semibold fill-primary",fontSize:"14",children:"Përpara"})]}),e.jsxs("g",{children:[e.jsx("polygon",{points:"300,465 285,445 315,445",fill:"hsl(var(--muted-foreground))",opacity:"0.6"}),e.jsx("text",{x:"325",y:"460",className:"text-sm fill-muted-foreground",fontSize:"12",children:"Prapa"})]}),e.jsx("text",{x:"300",y:"250",textAnchor:"middle",className:"text-xs fill-muted-foreground",fontSize:"10",opacity:"0.5",children:"Model Automjeti"})]}),l&&e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-foreground text-background px-4 py-3 rounded-xl text-sm shadow-xl z-10 border border-border",children:[e.jsx("div",{className:"font-semibold",children:m.find(e=>e.id===l)?.name}),e.jsx("div",{className:"text-xs opacity-90 mt-1",children:p(x(l))}),e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"Kliko për detaje të plota"})]})]})})]}),o&&e.jsx(i,{className:"mt-6 border-primary bg-primary/5",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-foreground mb-2",children:m.find(e=>e.id===o)?.name}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h(x(o))}}),e.jsx("span",{className:"text-sm text-muted-foreground",children:p(x(o))})]}),x(o).length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Detaje:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:x(o).map((t,i)=>e.jsx(s,{variant:"outline",className:"text-xs",children:t.title},i))})]})]})]}),e.jsx("button",{onClick:()=>c(null),className:"text-muted-foreground hover:text-foreground transition-colors",children:"✕"})]})})}),0===a.length&&e.jsx(i,{className:"mt-6 border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900",children:e.jsxs(r,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-gray-700 dark:to-gray-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-blue-500 dark:text-blue-400 text-3xl",children:"🔍"})}),e.jsx("h4",{className:"text-xl font-bold text-foreground mb-3",children:"Nuk ka të dhëna inspektimi disponibla"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Diagrami do të shfaqë gjendjen e pjesëve të automjetit kur të disponohen të dhënat e inspektimit."}),e.jsxs("div",{className:"mt-6 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 max-w-lg mx-auto",children:[e.jsx("h5",{className:"font-semibold text-foreground mb-2",children:"Kodi i ngjyrave:"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"🟢"}),e.jsx("span",{children:"Green parts: Components in good condition"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"🟠"}),e.jsx("span",{children:"Orange parts: Components that have been repaired"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"🔴"}),e.jsx("span",{children:"Red parts: Components that have been completely replaced"})]})]})]})]})})]})};export{a as CarInspectionDiagram,a as default};
