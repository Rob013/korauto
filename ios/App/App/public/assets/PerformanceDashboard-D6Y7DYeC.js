import{j as e}from"./ui-5CGx59HE.js";import{r as s}from"./vendor-Ce2S7JN_.js";import{c as t,B as a,D as r,C as l,e as i,f as n,b as c,i as o}from"./index-DXJv48IP.js";import{B as m}from"./badge-CtAh7DWu.js";import{R as d,P as x}from"./progress-esslBWV-.js";import{T as h,a as u,b as j,c as f}from"./tabs-DlSAwCA0.js";import{A as p,a as g,b as N}from"./alert-BAzaEAh5.js";import{P as y}from"./performanceAudit-DQgwLLb6.js";import{T as v}from"./triangle-alert-BjcC0IR7.js";import{G as b}from"./gauge-C77d0s-O.js";import{A as w}from"./activity-BIG2I9ui.js";import{C as k}from"./circle-check-big-CBL_LzJM.js";import{Z as S}from"./zap-DZpTOGCU.js";import{S as F}from"./settings-CifkK-3H.js";import"./supabase-FBsvvB2P.js";import"./utils-DN5cgeP9.js";import"./query-D7el4M-V.js";import"./router-CrtsEgIx.js";import"./ui-tabs-CFnylfyZ.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=t("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),I=t("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),R=t("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),C=t("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),P=()=>{const{metrics:t,isAuditing:P,runAudit:L,generateReport:T,applyFixes:E,error:D}=((e={})=>{const{autoStart:t=!1,interval:a,autoFix:r=!1}=e,[l,i]=s.useState(null),[n,c]=s.useState(!1),[o,m]=s.useState(null),[d]=s.useState(()=>new y),x=s.useCallback(async()=>{c(!0),m(null);try{const e=await d.runFullAudit();i(e),r&&e.alignmentIssues.length>0&&await d.applyAutoFixes(e.alignmentIssues)}catch(e){const s=e instanceof Error?e.message:"Unknown error";m(s)}finally{c(!1)}},[d,r]),h=s.useCallback(()=>l?d.generateReport(l):"No metrics available. Run an audit first.",[l,d]),u=s.useCallback(async()=>{if(!l||0===l.alignmentIssues.length)return 0;try{const e=await d.applyAutoFixes(l.alignmentIssues);return await x(),e}catch(e){return 0}},[l,d,x]);return s.useEffect(()=>{if(t){const e=setTimeout(x,1e3);return()=>clearTimeout(e)}},[t,x]),s.useEffect(()=>{if(a&&a>0){const e=setInterval(x,a);return()=>clearInterval(e)}},[a,x]),s.useEffect(()=>()=>{d.destroy()},[d]),{metrics:l,isAuditing:n,runAudit:x,generateReport:h,applyFixes:u,error:o}})(),[U,z]=s.useState(!1),G=e=>{switch(e){case"high":return"destructive";case"medium":default:return"default";case"low":return"secondary"}};return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Performance Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor and optimize website alignment and smoothness"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{onClick:L,disabled:P,className:"flex items-center gap-2",children:[P?e.jsx(d,{className:"h-4 w-4 animate-spin"}):e.jsx(C,{className:"h-4 w-4"}),P?"Auditing...":"Run Audit"]}),t&&e.jsxs(a,{onClick:()=>{const e=T(),s=new Blob([e],{type:"text/plain"}),t=URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`korauto-performance-report-${(new Date).toISOString().split("T")[0]}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)},variant:"outline",className:"flex items-center gap-2",children:[e.jsx(r,{className:"h-4 w-4"}),"Download Report"]})]})]}),D&&e.jsxs(p,{variant:"destructive",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx(g,{children:"Error"}),e.jsx(N,{children:D})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Overall Performance Score"]})}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold "+(M=t.overallScore,M>=90?"text-green-600":M>=70?"text-yellow-600":"text-red-600"),children:t.overallScore.toFixed(1)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"out of 100"})]}),e.jsx("div",{className:"flex-1 mx-8",children:e.jsx(x,{value:t.overallScore,className:"h-3"})}),e.jsx("div",{className:"text-right",children:t.overallScore>=90?e.jsx(m,{variant:"default",className:"bg-green-500",children:"Excellent"}):t.overallScore>=70?e.jsx(m,{variant:"default",className:"bg-yellow-500",children:"Good"}):e.jsx(m,{variant:"destructive",children:"Needs Improvement"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Layout Shifts"}),e.jsx(R,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.layoutShifts.toFixed(3)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.layoutShifts<.1?"‚úÖ Good":"‚ö†Ô∏è High"})]})]}),e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Animation Smoothness"}),e.jsx(w,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t.animationFrameRate.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.animationFrameRate>=90?"‚úÖ Smooth":"‚ö†Ô∏è Choppy"})]})]}),e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Image Load Time"}),e.jsx(A,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t.imageLoadTime.toFixed(0),"ms"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.imageLoadTime<1e3?"‚úÖ Fast":"‚ö†Ô∏è Slow"})]})]}),e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Scroll Performance"}),e.jsx(I,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.scrollPerformance.toFixed(0)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.scrollPerformance>=90?"‚úÖ Smooth":"‚ö†Ô∏è Janky"})]})]})]}),e.jsxs(h,{defaultValue:"issues",className:"w-full",children:[e.jsxs(u,{className:"grid w-full grid-cols-2",children:[e.jsxs(j,{value:"issues",className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"Issues (",t.alignmentIssues.length,")"]}),e.jsxs(j,{value:"report",className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),"Detailed Report"]})]}),e.jsx(f,{value:"issues",className:"space-y-4",children:0===t.alignmentIssues.length?e.jsx(l,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-green-700",children:"No Issues Found!"}),e.jsx("p",{className:"text-muted-foreground",children:"Your website alignment and smoothness look great."})]})})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Alignment Issues"}),e.jsxs(a,{onClick:E,className:"flex items-center gap-2",size:"sm",children:[e.jsx(S,{className:"h-4 w-4"}),"Auto-Fix Issues"]})]}),e.jsx("div",{className:"space-y-3",children:t.alignmentIssues.map((s,t)=>e.jsx(l,{children:e.jsx(c,{className:"pt-6",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(m,{variant:G(s.severity),children:s.severity}),e.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:s.element})]}),e.jsx("h4",{className:"font-medium mb-1",children:s.issue}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["üí° ",e.jsx("strong",{children:"Suggested fix:"})," ",s.suggested_fix]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Position: ",s.position.top.toFixed(0),"px, ",s.position.left.toFixed(0),"px (",s.position.width.toFixed(0),"√ó",s.position.height.toFixed(0),")"]})]})})})},t))})]})}),e.jsx(f,{value:"report",children:e.jsxs(l,{children:[e.jsxs(i,{children:[e.jsx(n,{children:"Detailed Performance Report"}),e.jsx(o,{children:"Complete analysis of your website's performance"})]}),e.jsx(c,{children:e.jsx("pre",{className:"whitespace-pre-wrap text-sm bg-muted p-4 rounded-lg overflow-auto max-h-96",children:T()})})]})})]})]}),!t&&!P&&e.jsx(l,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Ready to Audit"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:'Click "Run Audit" to analyze your website\'s performance, alignment, and smoothness.'}),e.jsxs(a,{onClick:L,size:"lg",className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),"Start Performance Audit"]})]})})})]});var M};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{P as default};
