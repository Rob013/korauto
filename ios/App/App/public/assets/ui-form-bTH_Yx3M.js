import{r as e}from"./vendor-Ce2S7JN_.js";import{j as t,P as a,g as r,a as n,c as s,e as o,f as c,h as d,i}from"./ui-5CGx59HE.js";var l=e.forwardRef((e,r)=>t.jsx(a.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var u=l,f="Checkbox",[p,b]=s(f),[h,k]=p(f),m=e.forwardRef((s,c)=>{const{__scopeCheckbox:d,name:i,checked:l,defaultChecked:u,required:f,disabled:p,value:b="on",onCheckedChange:k,form:m,...v}=s,[x,w]=e.useState(null),E=r(c,e=>w(e)),g=e.useRef(!1),R=!x||m||!!x.closest("form"),[D=!1,P]=n({prop:l,defaultProp:u,onChange:k}),I=e.useRef(D);return e.useEffect(()=>{const e=x?.form;if(e){const t=()=>P(I.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[x,P]),t.jsxs(h,{scope:d,state:D,disabled:p,children:[t.jsx(a.button,{type:"button",role:"checkbox","aria-checked":C(D)?"mixed":D,"aria-required":f,"data-state":j(D),"data-disabled":p?"":void 0,disabled:p,value:b,...v,ref:E,onKeyDown:o(s.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:o(s.onClick,e=>{P(e=>!!C(e)||!e),R&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),R&&t.jsx(y,{control:x,bubbles:!g.current,name:i,value:b,checked:D,required:f,disabled:p,form:m,style:{transform:"translateX(-100%)"},defaultChecked:!C(u)&&u})]})});m.displayName=f;var v="CheckboxIndicator",x=e.forwardRef((e,r)=>{const{__scopeCheckbox:n,forceMount:s,...o}=e,d=k(v,n);return t.jsx(c,{present:s||C(d.state)||!0===d.state,children:t.jsx(a.span,{"data-state":j(d.state),"data-disabled":d.disabled?"":void 0,...o,ref:r,style:{pointerEvents:"none",...e.style}})})});x.displayName=v;var y=a=>{const{control:r,checked:n,bubbles:s=!0,defaultChecked:o,...c}=a,l=e.useRef(null),u=d(n),f=i(r);e.useEffect(()=>{const e=l.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(u!==n&&a){const t=new Event("click",{bubbles:s});e.indeterminate=C(n),a.call(e,!C(n)&&n),e.dispatchEvent(t)}},[u,n,s]);const p=e.useRef(!C(n)&&n);return t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??p.current,...c,tabIndex:-1,ref:l,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function C(e){return"indeterminate"===e}function j(e){return C(e)?"indeterminate":e?"checked":"unchecked"}var w=m,E=x;export{E as I,w as R,u as a};
