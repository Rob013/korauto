var e=Object.defineProperty;import{j as t}from"./ui-5CGx59HE.js";import{r as s}from"./vendor-Ce2S7JN_.js";import{c as i,C as n,b as l,B as o,e as r,f as a}from"./index-DXJv48IP.js";import{B as c}from"./badge-CtAh7DWu.js";import{P as d}from"./performanceAudit-DQgwLLb6.js";import{T as h}from"./triangle-alert-BjcC0IR7.js";import{Z as m}from"./zap-DZpTOGCU.js";import{C as u}from"./circle-check-big-CBL_LzJM.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=i("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]),x=i("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */class p{constructor(){var t,s;((t,s,i)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i})(this,"symbol"!=typeof(t="performanceAuditor")?t+"":t,s),this.performanceAuditor=new d}async checkLayoutIssues(){const e=[],t=document.querySelectorAll("*");let s=0;return t.forEach(t=>{if(s>=6)return;const i=t.getBoundingClientRect(),n=window.getComputedStyle(t);if(0!==i.width&&0!==i.height){if(s<6&&i.right>window.innerWidth&&"hidden"!==n.overflow&&"hidden"!==n.overflowX&&(e.push({element:this.getElementSelector(t),issue:"Element extends beyond viewport width",severity:"medium",fix:"Add responsive design or overflow handling",position:{top:i.top,left:i.left,width:i.width,height:i.height}}),s++),!(s<6)||"IMG"!==t.tagName&&"VIDEO"!==t.tagName||n.width&&"auto"!==n.width||n.height&&"auto"!==n.height||t.getAttribute("width")||t.getAttribute("height")||(e.push({element:this.getElementSelector(t),issue:"Missing dimensions causing potential layout shifts",severity:"high",fix:"Set explicit width and height or aspect-ratio CSS",position:{top:i.top,left:i.left,width:i.width,height:i.height}}),s++),s<6&&"visible"===n.overflow&&t.scrollWidth>t.clientWidth+5&&(e.push({element:this.getElementSelector(t),issue:"Text content overflows container",severity:"medium",fix:"Add text-overflow: ellipsis or increase container width",position:{top:i.top,left:i.left,width:i.width,height:i.height}}),s++),s<6){const l=parseInt(n.zIndex);!isNaN(l)&&l>1e3&&(e.push({element:this.getElementSelector(t),issue:"Extremely high z-index may cause stacking issues",severity:"low",fix:"Use more reasonable z-index values (< 1000)",position:{top:i.top,left:i.left,width:i.width,height:i.height}}),s++)}if(s<6){const l=n.width;l&&l.includes("px")&&!l.includes("min")&&!l.includes("max")&&parseInt(l)>320&&(e.push({element:this.getElementSelector(t),issue:"Fixed pixel width may break responsive design",severity:"medium",fix:"Use relative units (%, rem, vw) or max-width instead",position:{top:i.top,left:i.left,width:i.width,height:i.height}}),s++)}s<6&&(t.classList.contains("LoadingLogo")||t.getAttribute("alt")?.includes("Loading"))&&(this.checkLoadingLogoAlignment(t,i,e),e.length>s&&(s=e.length))}}),e.slice(0,6)}checkSpacingConsistency(e,t,s,i){const n=parseFloat(s.marginTop);parseFloat(s.marginBottom),parseFloat(s.marginLeft),parseFloat(s.marginRight);const l=e.parentElement;if(l){const s=Array.from(l.children).filter(t=>t!==e&&t.getBoundingClientRect().width>0);if(s.length>0){const l=window.getComputedStyle(s[0]),o=parseFloat(l.marginTop);Math.abs(n-o)>8&&i.push({element:this.getElementSelector(e),issue:"Inconsistent margin spacing with sibling elements",severity:"low",fix:"Use consistent margin values or CSS classes",position:{top:t.top,left:t.left,width:t.width,height:t.height}})}}}checkResponsiveDesignIssues(e,t,s,i){const n=s.width;if(n&&n.includes("px")&&!n.includes("min")&&!n.includes("max")&&parseInt(n)>320&&i.push({element:this.getElementSelector(e),issue:"Fixed pixel width may break responsive design",severity:"medium",fix:"Use relative units (%, rem, vw) or max-width instead",position:{top:t.top,left:t.left,width:t.width,height:t.height}}),window.innerWidth>768&&t.width<200&&"IMG"!==e.tagName&&"SVG"!==e.tagName){const s=e.textContent?.trim();s&&s.length>20&&i.push({element:this.getElementSelector(e),issue:"Element may be too narrow for content on desktop",severity:"low",fix:"Consider increasing min-width for better readability",position:{top:t.top,left:t.left,width:t.width,height:t.height}})}}checkLoadingLogoAlignment(e,t,s){const i=e.parentElement;if(!i)return;const n=i.getBoundingClientRect(),l=n.left+n.width/2,o=n.top+n.height/2,r=t.left+t.width/2,a=t.top+t.height/2;(Math.abs(r-l)>2||Math.abs(a-o)>2)&&s.push({element:this.getElementSelector(e),issue:"Loading logo is not properly centered",severity:"medium",fix:"Use flex centering or proper positioning",position:{top:t.top,left:t.left,width:t.width,height:t.height}})}checkCardLayoutIssues(e,t,s,i){const n=e.parentElement;if(n&&n.classList.contains("grid")){const s=Array.from(n.children).filter(t=>t!==e&&t.classList.contains("CarCard"));if(s.length>0){const n=s[0].getBoundingClientRect();Math.abs(t.height-n.height)>10&&i.push({element:this.getElementSelector(e),issue:"Inconsistent card heights in grid",severity:"low",fix:"Use min-height or flex properties for consistent card sizing",position:{top:t.top,left:t.left,width:t.width,height:t.height}})}}s.boxShadow&&"none"!==s.boxShadow&&(s.boxShadow.includes("rgba")||s.boxShadow.includes("hsl")||i.push({element:this.getElementSelector(e),issue:"Card shadow may not be using design system colors",severity:"low",fix:"Use HSL colors from design system for shadows",position:{top:t.top,left:t.left,width:t.width,height:t.height}}))}checkFlexboxAlignment(e,t,s,i){const n=Array.from(e.children);if(n.length>1&&"column"!==s.flexDirection){const l=n.map(e=>e.getBoundingClientRect().height);Math.max(...l)-Math.min(...l)>20&&"flex-start"!==s.alignItems&&i.push({element:this.getElementSelector(e),issue:"Uneven flex item heights may cause alignment issues",severity:"low",fix:"Consider using align-items: flex-start or ensure consistent content heights",position:{top:t.top,left:t.left,width:t.width,height:t.height}})}}getElementSelector(e){if(e.id)return`#${e.id}`;if(e.className){const t=e.className.split(" ").filter(e=>""!==e.trim());if(t.length>0)return`.${t[0]}`}return e.tagName.toLowerCase()}async runComprehensiveAudit(){const e=await this.performanceAuditor.runFullAudit(),t=await this.checkLayoutIssues(),s=await this.performanceAuditor.runAccessibilityAudit(),i=Math.max(0,100-15*t.length),n=Math.max(0,100-10*s.length);return{performance:e,layoutIssues:t,accessibilityIssues:s,overallScore:(e.overallScore+i+n)/3,recommendations:this.generateRecommendations(e,t,s)}}generateRecommendations(e,t,s){const i=[];if(e.overallScore<80&&i.push("Overall performance needs improvement"),e.layoutShifts>.1&&i.push("Reduce layout shifts by setting explicit dimensions for images and dynamic content"),e.imageLoadTime>1e3&&i.push("Optimize image loading with lazy loading and proper compression"),t.length>0){i.push(`Fix ${t.length} layout alignment issues found`);const e=t.filter(e=>"high"===e.severity);e.length>0&&i.push(`Address ${e.length} critical layout issues immediately`)}if(s.length>0){i.push(`Improve accessibility by fixing ${s.length} issues`);const e=s.filter(e=>"high"===e.severity);e.length>0&&i.push(`Fix ${e.length} critical accessibility issues for better user experience`)}return t.filter(e=>e.element.includes("LoadingLogo")||e.issue.includes("loading logo")).length>0&&i.push("Fix loading logo alignment and animation synchronization"),i}generateDetailedReport(e){let t=`\n🚀 KORAUTO Comprehensive Website Audit Report\n===========================================\n\n📈 Overall Score: ${e.overallScore.toFixed(1)}/100\n\n📊 Performance Metrics:\n- Overall Performance: ${e.performance.overallScore.toFixed(1)}/100\n- Layout Shifts: ${e.performance.layoutShifts.toFixed(3)} (Lower is better)\n- Animation Smoothness: ${e.performance.smoothnessScore.toFixed(1)}/100\n- Image Load Time: ${e.performance.imageLoadTime.toFixed(0)}ms\n- Scroll Performance: ${e.performance.scrollPerformance.toFixed(1)}/100\n\n🎯 Layout Issues Found: ${e.layoutIssues.length}\n`;return e.layoutIssues.length>0&&(t+="\n⚠️  Layout Issues:\n",e.layoutIssues.forEach((e,s)=>{t+=`${s+1}. ${e.element}: ${e.issue} (${e.severity})\n`,t+=`   💡 Fix: ${e.fix}\n\n`})),t+=`\n♿ Accessibility Issues Found: ${e.accessibilityIssues.length}`,e.accessibilityIssues.length>0&&(t+="\n⚠️  Accessibility Issues:\n",e.accessibilityIssues.forEach((e,s)=>{t+=`${s+1}. ${e.element}: ${e.issue} (${e.severity})\n`,t+=`   💡 Fix: ${e.suggested_fix}\n\n`})),t+="\n🎯 Recommendations:\n",e.recommendations.forEach((e,s)=>{t+=`${s+1}. ${e}\n`}),t}destroy(){this.performanceAuditor.destroy()}}const f=()=>{const[e,i]=s.useState(null),[d,f]=s.useState(!1),[y,w]=s.useState(null),b=async()=>{f(!0),w(null);try{const e=await(async()=>{const e=new p;await new Promise(e=>setTimeout(e,2e3));const t=await e.runComprehensiveAudit();return e.destroy(),t})();i(e)}catch(e){w("Failed to run audit")}finally{f(!1)}};s.useEffect(()=>{b()},[]);const v=e=>e>=90?"text-green-600":e>=70?"text-yellow-600":"text-red-600",j=e=>t.jsx(c,{variant:{low:"default",medium:"secondary",high:"destructive"}[e],children:e});return y?t.jsx(n,{className:"w-full max-w-2xl",children:t.jsx(l,{className:"p-6",children:t.jsxs("div",{className:"text-center text-red-600",children:[t.jsx(h,{className:"h-8 w-8 mx-auto mb-2"}),t.jsx("p",{children:y}),t.jsx(o,{onClick:b,className:"mt-2",children:"Try Again"})]})})}):t.jsxs(n,{className:"w-full max-w-4xl",children:[t.jsx(r,{children:t.jsxs(a,{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(m,{className:"h-5 w-5"}),"Website Performance & Alignment Audit"]}),t.jsx(o,{onClick:b,disabled:d,size:"sm",children:d?"Running...":"Run Audit"})]})}),t.jsxs(l,{className:"space-y-6",children:[d&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"mt-2 text-muted-foreground",children:"Analyzing website..."})]}),e&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:`text-4xl font-bold ${v(e.overallScore)}`,children:[e.overallScore.toFixed(1),"/100"]}),t.jsx("p",{className:"text-muted-foreground",children:"Overall Score"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(n,{children:t.jsxs(l,{className:"p-4 text-center",children:[t.jsx("div",{className:`text-2xl font-semibold ${v(e.performance.overallScore)}`,children:e.performance.overallScore.toFixed(1)}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Performance"})]})}),t.jsx(n,{children:t.jsxs(l,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-semibold text-blue-600",children:e.layoutIssues.length}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Layout Issues"})]})}),t.jsx(n,{children:t.jsxs(l,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-semibold text-purple-600",children:e.accessibilityIssues.length}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"A11y Issues"})]})})]}),e.layoutIssues.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"flex items-center gap-2 font-semibold mb-3",children:[t.jsx(x,{className:"h-4 w-4"}),"Layout & Alignment Issues (",e.layoutIssues.length,")"]}),t.jsxs("div",{className:"space-y-2",children:[e.layoutIssues.slice(0,5).map((e,s)=>t.jsx("div",{className:"flex items-start gap-2 p-3 bg-muted rounded-lg",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("code",{className:"text-xs bg-background px-1 py-0.5 rounded",children:e.element}),j(e.severity)]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e.issue}),t.jsxs("p",{className:"text-xs text-green-600",children:["💡 ",e.fix]})]})},s)),e.layoutIssues.length>5&&t.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["... and ",e.layoutIssues.length-5," more issues"]})]})]}),e.accessibilityIssues.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"flex items-center gap-2 font-semibold mb-3",children:[t.jsx(g,{className:"h-4 w-4"}),"Accessibility Issues (",e.accessibilityIssues.length,")"]}),t.jsxs("div",{className:"space-y-2",children:[e.accessibilityIssues.slice(0,5).map((e,s)=>t.jsx("div",{className:"flex items-start gap-2 p-3 bg-muted rounded-lg",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("code",{className:"text-xs bg-background px-1 py-0.5 rounded",children:e.element}),j(e.severity)]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e.issue}),t.jsxs("p",{className:"text-xs text-green-600",children:["💡 ",e.suggested_fix]})]})},s)),e.accessibilityIssues.length>5&&t.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["... and ",e.accessibilityIssues.length-5," more issues"]})]})]}),e.recommendations.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"flex items-center gap-2 font-semibold mb-3",children:[t.jsx(u,{className:"h-4 w-4"}),"Recommendations"]}),t.jsx("ul",{className:"space-y-1",children:e.recommendations.map((e,s)=>t.jsxs("li",{className:"text-sm text-muted-foreground",children:["• ",e]},s))})]}),0===e.layoutIssues.length&&0===e.accessibilityIssues.length&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(u,{className:"h-12 w-12 text-green-600 mx-auto mb-2"}),t.jsx("h3",{className:"text-lg font-semibold text-green-600",children:"Perfect Alignment!"}),t.jsx("p",{className:"text-muted-foreground",children:"No layout or accessibility issues detected."})]})]})]})]})};export{x as E,f as P};
