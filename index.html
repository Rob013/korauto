<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>KORAUTO - Premium Cars from South Korea</title>
    <meta name="description" content="Find your perfect car from South Korea with best price and quality. Professional car inspection services and premium vehicle imports.">
    <meta name="author" content="KORAUTO" />
    
    <!-- Performance Optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://iyezkczshcgbcgpswpyg.supabase.co">
    <link rel="dns-prefetch" href="https://korautoks.com">
    
    <!-- Preload critical resources -->
    <link rel="modulepreload" href="/src/main.tsx">
    <link rel="preload" href="/lovable-uploads/korauto-logo-light.png" as="image" type="image/png">
    <link rel="preload" href="/lovable-uploads/korauto-logo-dark.png" as="image" type="image/png">
    <link rel="preload" href="/src/index.css" as="style">
    <link rel="preload" href="/src/utils/iosOptimizations.css" as="style">
    <style>
      /* Critical CSS - Prevent FOUC and improve LCP */
      html { 
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        line-height: 1.5;
      }
      body { 
        margin: 0; 
        background: #ffffff;
        color: #0f172a;
        overflow-x: hidden;
      }
      #root { 
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }
      .dark body { 
        background: #0a0a0a;
        color: #f8fafc;
      }
      
      /* Critical styles for LCP element */
      .home-section {
        min-height: 85vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        position: relative;
        overflow: hidden;
      }
      
      .logo-container {
        width: 12rem;
        height: 12rem;
        margin: 0 auto 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: scaleIn 0.6s ease-out;
      }
      
      .logo-image {
        width: 100%;
        height: 100%;
        object-fit: contain;
        transition: transform 0.3s ease;
        /* Remove any background if present */
        background: transparent;
        /* Ensure crisp rendering */
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
        /* Smooth scaling */
        image-rendering: auto;
      }
      
      /* Homepage logo uses separate files for light/dark mode */
      .logo-image {
        filter: none;
      }
      
      /* Enhanced logo display for high-quality images */
      .logo-container img {
        /* Remove any potential background artifacts */
        background: transparent !important;
        /* Ensure proper blending */
        mix-blend-mode: normal;
      }
      
      @keyframes scaleIn {
        from { transform: scale(0.8); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
      }
      
      /* Prevent layout shift during loading */
      .loading-placeholder {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
      }
      
      @keyframes loading {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
      }
      
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      .animate-fade-in {
        animation: fadeIn 0.6s ease-out;
      }
      
      /* Performance optimizations */
      * {
        box-sizing: border-box;
      }
      
      img {
        max-width: 100%;
        height: auto;
      }
      
      /* Reduce paint complexity */
      .home-section {
        will-change: transform;
        contain: layout style paint;
      }
      
      .logo-container {
        will-change: transform;
        contain: layout style paint;
      }
    </style>
    
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/x-icon" href="https://storage.googleapis.com/gpt-engineer-file-uploads/YQL55BAx4ad4To5BuJ6CPGn22603/uploads/1757847506537-f5e4fe22-b482-4333-91fd-12132af7d102.jpeg">
    <link rel="apple-touch-icon" href="/lovable-uploads/7a3e2aa4-2a3b-4320-b33c-72d3d7721cfd.png">
    <link rel="shortcut icon" href="/lovable-uploads/7a3e2aa4-2a3b-4320-b33c-72d3d7721cfd.png">
    <meta name="theme-color" content="#1f2937">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- iOS PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="KORAUTO">
    
    <!-- Android PWA -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="KORAUTO - Premium Cars from South Korea" />
    <meta property="og:description" content="Find your perfect car from South Korea with best price and quality. Professional car inspection services and premium vehicle imports." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://korautoks.com" />
    <meta property="og:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/YQL55BAx4ad4To5BuJ6CPGn22603/social-images/social-1757832941689-Image.png">
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@korauto" />
    <meta name="twitter:title" content="KORAUTO - Premium Cars from South Korea" />
    <meta name="twitter:description" content="Find your perfect car from South Korea with best price and quality. Professional car inspection services and premium vehicle imports." />
    <meta name="twitter:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/YQL55BAx4ad4To5BuJ6CPGn22603/social-images/social-1757832941689-Image.png">

    <!-- Google tag (gtag.js) - Deferred -->
    <script>
      // Defer Google Analytics to not block rendering
      window.addEventListener('load', function() {
        const script = document.createElement('script');
        script.async = true;
        script.src = 'https://www.googletagmanager.com/gtag/js?id=G-EK3E1KLL6V';
        document.head.appendChild(script);
        
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-EK3E1KLL6V');
      });
    </script>

    <!-- ES Module compatibility check and fallback -->
    <script>
      // Check for ES module support and provide better error handling
      (function() {
        try {
          // Basic ES6 feature check
          new Function('import("")');
        } catch (e) {
          // Browser doesn't support dynamic imports, show error
          document.addEventListener('DOMContentLoaded', function() {
            document.body.innerHTML = '<div style="padding: 20px; font-family: Arial, sans-serif; text-align: center;"><h2>Browser Not Supported</h2><p>This application requires a modern browser that supports ES modules. Please update your browser to the latest version.</p><p>Supported browsers: Chrome 63+, Firefox 60+, Safari 11.1+, Edge 79+</p></div>';
          });
          return;
        }

        // Handle module loading errors
        window.addEventListener('error', function(e) {
          if (e.message && e.message.includes('module')) {
            console.error('Module loading error:', e);
            // Don't replace content immediately, wait a bit to see if it recovers
            setTimeout(function() {
              if (!document.querySelector('#root > *')) {
                document.body.innerHTML = '<div style="padding: 20px; font-family: Arial, sans-serif; text-align: center;"><h2>Loading Error</h2><p>There was an error loading the application. Please refresh the page.</p><button onclick="location.reload()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Refresh Page</button></div>';
              }
            }, 5000);
          }
        });
      })();
    </script>

    <!-- Smartsupp Live Chat script - Deferred -->
    <script type="text/javascript">
    // Defer Smartsupp chat to not block rendering
    window.addEventListener('load', function() {
      var _smartsupp = _smartsupp || {};
      _smartsupp.key = 'b946031b416bd52d6cebdf0f507bfa4dd021e21f';
      window.smartsupp||(function(d) {
        var s,c,o=smartsupp=function(){ o._.push(arguments)};o._=[];
        s=d.getElementsByTagName('script')[0];c=d.createElement('script');
        c.type='text/javascript';c.charset='utf-8';c.async=true;
        c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);
      })(document);
    });
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
